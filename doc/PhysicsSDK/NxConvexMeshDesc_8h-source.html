<html>
<head>
<title>Physics SDK API Reference: NxConvexMeshDesc.h Source File</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<LINK HREF="../stylesheet.css" REL="stylesheet" TYPE="text/css">

</head>

<body bgcolor="#FFFFFF">
<img alt="" src="images/PhysXlogo.png" align="middle"> <br>

<center>

<hr>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp;  </center>
<hr>
<!-- Generated by Doxygen 1.4.6-NO -->
<h1>NxConvexMeshDesc.h</h1><a href="NxConvexMeshDesc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef NX_COLLISION_NXCONVEXMESHDESC</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define NX_COLLISION_NXCONVEXMESHDESC</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">/*----------------------------------------------------------------------------*\</span>
<a name="l00004"></a>00004 <span class="comment">|</span>
<a name="l00005"></a>00005 <span class="comment">|                       Public Interface to Ageia PhysX Technology</span>
<a name="l00006"></a>00006 <span class="comment">|</span>
<a name="l00007"></a>00007 <span class="comment">|                                www.ageia.com</span>
<a name="l00008"></a>00008 <span class="comment">|</span>
<a name="l00009"></a>00009 <span class="comment">\*----------------------------------------------------------------------------*/</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="NxConvexMesh_8h.html">NxConvexMesh.h</a>"</span>
<a name="l00015"></a>00015 
<a name="l00019"></a><a class="code" href="group__physics.html#g7a2dff6fd9ab1ba1736bba05c474dddb">00019</a> <span class="keyword">enum</span> <a class="code" href="group__physics.html#g7a2dff6fd9ab1ba1736bba05c474dddb">NxConvexFlags</a>
<a name="l00020"></a>00020     {
<a name="l00033"></a>00033     <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddbc54a6cbcfc242fd95dbf6e17d5ad6286">NX_CF_FLIPNORMALS</a>       =   (1&lt;&lt;0),
<a name="l00034"></a>00034 
<a name="l00040"></a>00040     <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddbb9ca712e79fa7b6e1c1ea56cf0ba9112">NX_CF_16_BIT_INDICES</a>    =   (1&lt;&lt;1),
<a name="l00041"></a>00041 
<a name="l00045"></a>00045     <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddb778c5a709f5df13e6461fdc38ab0b846">NX_CF_COMPUTE_CONVEX</a>    =   (1&lt;&lt;2), 
<a name="l00046"></a>00046 
<a name="l00054"></a>00054     <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddb37ea58ef995813cb27bea794fdd0a1fa">NX_CF_INFLATE_CONVEX</a>    =   (1&lt;&lt;3),
<a name="l00055"></a>00055 
<a name="l00061"></a>00061     <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddb39234dca9c48de2ac8d69eb5b87421e1">NX_CF_USE_UNCOMPRESSED_NORMALS</a>  =   (1&lt;&lt;5),
<a name="l00062"></a>00062     };
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="group__physics.html#gb18f2ba0ae5cb4f42cc7bdd74bbc6dfd">00064</a> <span class="keyword">typedef</span> <a class="code" href="classNxVec3.html">NxVec3</a> <a class="code" href="classNxVec3.html">NxPoint</a>;
<a name="l00065"></a>00065 
<a name="l00072"></a><a class="code" href="classNxConvexMeshDesc.html">00072</a> <span class="keyword">class </span><a class="code" href="classNxConvexMeshDesc.html">NxConvexMeshDesc</a>
<a name="l00073"></a>00073     {
<a name="l00074"></a>00074     <span class="keyword">public</span>:
<a name="l00075"></a>00075 
<a name="l00087"></a><a class="code" href="classNxConvexMeshDesc.html#bb0e42d05db83f66a5ccc2e5fe840e8b">00087</a>     NxU32 <a class="code" href="classNxConvexMeshDesc.html#bb0e42d05db83f66a5ccc2e5fe840e8b">numVertices</a>;
<a name="l00088"></a>00088     
<a name="l00103"></a><a class="code" href="classNxConvexMeshDesc.html#be6e5477b5823658e323f7b813ddbf1e">00103</a>     NxU32 <a class="code" href="classNxConvexMeshDesc.html#be6e5477b5823658e323f7b813ddbf1e">numTriangles</a>;
<a name="l00104"></a>00104     
<a name="l00116"></a><a class="code" href="classNxConvexMeshDesc.html#e8135c648bf53c043e9dfa0e324193b0">00116</a>     NxU32 <a class="code" href="classNxConvexMeshDesc.html#e8135c648bf53c043e9dfa0e324193b0">pointStrideBytes</a>;
<a name="l00117"></a>00117     
<a name="l00129"></a><a class="code" href="classNxConvexMeshDesc.html#5697889fb53736bf1c2ac863c0e15721">00129</a>     NxU32 <a class="code" href="classNxConvexMeshDesc.html#5697889fb53736bf1c2ac863c0e15721">triangleStrideBytes</a>;
<a name="l00130"></a>00130 
<a name="l00143"></a><a class="code" href="classNxConvexMeshDesc.html#a94f23873ac6ea66b051a2fda4185573">00143</a>     <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classNxConvexMeshDesc.html#a94f23873ac6ea66b051a2fda4185573">points</a>;
<a name="l00144"></a>00144 
<a name="l00168"></a><a class="code" href="classNxConvexMeshDesc.html#f738d855545c58b1e81f3ab77d021855">00168</a>     <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classNxConvexMeshDesc.html#f738d855545c58b1e81f3ab77d021855">triangles</a>;
<a name="l00169"></a>00169 
<a name="l00181"></a><a class="code" href="classNxConvexMeshDesc.html#0245f54ae69d6073812ea31db4b81ff9">00181</a>     NxU32 <a class="code" href="classNxConvexMeshDesc.html#0245f54ae69d6073812ea31db4b81ff9">flags</a>;
<a name="l00182"></a>00182 
<a name="l00186"></a>00186     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#g801d93db896a034c4f86df5985cb4be0">NxConvexMeshDesc</a>();
<a name="l00190"></a>00190     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#gdf001cd5ac4d3ed875f3eb4e54b981e0">setToDefault</a>();
<a name="l00196"></a>00196     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__physics.html#g1dc7c586617d8b1d385211721d258c4d">isValid</a>() <span class="keyword">const</span>;
<a name="l00197"></a>00197     };
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="group__physics.html#g801d93db896a034c4f86df5985cb4be0">00199</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#g801d93db896a034c4f86df5985cb4be0">NxConvexMeshDesc::NxConvexMeshDesc</a>()  <span class="comment">//constructor sets to default</span>
<a name="l00200"></a>00200     {
<a name="l00201"></a>00201     <a class="code" href="group__physics.html#gdf001cd5ac4d3ed875f3eb4e54b981e0">setToDefault</a>();
<a name="l00202"></a>00202     }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="group__physics.html#gdf001cd5ac4d3ed875f3eb4e54b981e0">00204</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#gdf001cd5ac4d3ed875f3eb4e54b981e0">NxConvexMeshDesc::setToDefault</a>()
<a name="l00205"></a>00205     {
<a name="l00206"></a>00206     <a class="code" href="classNxConvexMeshDesc.html#bb0e42d05db83f66a5ccc2e5fe840e8b">numVertices</a>         = 0;
<a name="l00207"></a>00207     <a class="code" href="classNxConvexMeshDesc.html#be6e5477b5823658e323f7b813ddbf1e">numTriangles</a>        = 0;
<a name="l00208"></a>00208     <a class="code" href="classNxConvexMeshDesc.html#e8135c648bf53c043e9dfa0e324193b0">pointStrideBytes</a>    = 0;
<a name="l00209"></a>00209     <a class="code" href="classNxConvexMeshDesc.html#5697889fb53736bf1c2ac863c0e15721">triangleStrideBytes</a> = 0;
<a name="l00210"></a>00210     <a class="code" href="classNxConvexMeshDesc.html#a94f23873ac6ea66b051a2fda4185573">points</a>              = NULL;
<a name="l00211"></a>00211     <a class="code" href="classNxConvexMeshDesc.html#f738d855545c58b1e81f3ab77d021855">triangles</a>           = NULL;
<a name="l00212"></a>00212     <a class="code" href="classNxConvexMeshDesc.html#0245f54ae69d6073812ea31db4b81ff9">flags</a>               = 0;
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="group__physics.html#g1dc7c586617d8b1d385211721d258c4d">00215</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__physics.html#g1dc7c586617d8b1d385211721d258c4d">NxConvexMeshDesc::isValid</a>()<span class="keyword"> const</span>
<a name="l00216"></a>00216 <span class="keyword">    </span>{
<a name="l00217"></a>00217     <span class="comment">// Check geometry</span>
<a name="l00218"></a>00218     <span class="keywordflow">if</span>(<a class="code" href="classNxConvexMeshDesc.html#bb0e42d05db83f66a5ccc2e5fe840e8b">numVertices</a> &lt; 3 ||   <span class="comment">//at least 1 trig's worth of points</span>
<a name="l00219"></a>00219         (<a class="code" href="classNxConvexMeshDesc.html#bb0e42d05db83f66a5ccc2e5fe840e8b">numVertices</a> &gt; 0xffff &amp;&amp; <a class="code" href="classNxConvexMeshDesc.html#0245f54ae69d6073812ea31db4b81ff9">flags</a> &amp; <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddbb9ca712e79fa7b6e1c1ea56cf0ba9112">NX_CF_16_BIT_INDICES</a>))
<a name="l00220"></a>00220         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00221"></a>00221     <span class="keywordflow">if</span>(!<a class="code" href="classNxConvexMeshDesc.html#a94f23873ac6ea66b051a2fda4185573">points</a>)
<a name="l00222"></a>00222         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00223"></a>00223     <span class="keywordflow">if</span>(<a class="code" href="classNxConvexMeshDesc.html#e8135c648bf53c043e9dfa0e324193b0">pointStrideBytes</a> &lt; <span class="keyword">sizeof</span>(NxPoint))  <span class="comment">//should be at least one point's worth of data</span>
<a name="l00224"></a>00224         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226     <span class="comment">// Check topology</span>
<a name="l00227"></a>00227     <span class="comment">// The triangles pointer is not mandatory: the vertex cloud is enough to define the convex hull.</span>
<a name="l00228"></a>00228     <span class="keywordflow">if</span>(<a class="code" href="classNxConvexMeshDesc.html#f738d855545c58b1e81f3ab77d021855">triangles</a>)
<a name="l00229"></a>00229         {
<a name="l00230"></a>00230         <span class="comment">// Indexed mesh</span>
<a name="l00231"></a>00231         <span class="keywordflow">if</span>(<a class="code" href="classNxConvexMeshDesc.html#be6e5477b5823658e323f7b813ddbf1e">numTriangles</a> &lt; 2)    <span class="comment">//some algos require at least 2 trigs</span>
<a name="l00232"></a>00232             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00233"></a>00233         <span class="keywordflow">if</span>(<a class="code" href="classNxConvexMeshDesc.html#0245f54ae69d6073812ea31db4b81ff9">flags</a> &amp; NX_CF_16_BIT_INDICES)
<a name="l00234"></a>00234             {
<a name="l00235"></a>00235             <span class="keywordflow">if</span>((<a class="code" href="classNxConvexMeshDesc.html#5697889fb53736bf1c2ac863c0e15721">triangleStrideBytes</a> &lt; <span class="keyword">sizeof</span>(NxU16)*3))
<a name="l00236"></a>00236                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00237"></a>00237             }
<a name="l00238"></a>00238         <span class="keywordflow">else</span>
<a name="l00239"></a>00239             {
<a name="l00240"></a>00240             <span class="keywordflow">if</span>((<a class="code" href="classNxConvexMeshDesc.html#5697889fb53736bf1c2ac863c0e15721">triangleStrideBytes</a> &lt; <span class="keyword">sizeof</span>(NxU32)*3))
<a name="l00241"></a>00241                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00242"></a>00242             }
<a name="l00243"></a>00243         }
<a name="l00244"></a>00244     <span class="keywordflow">else</span>
<a name="l00245"></a>00245         {
<a name="l00246"></a>00246         <span class="comment">// We can compute the hull from the vertices</span>
<a name="l00247"></a>00247         <span class="keywordflow">if</span>(!(<a class="code" href="classNxConvexMeshDesc.html#0245f54ae69d6073812ea31db4b81ff9">flags</a> &amp; <a class="code" href="group__physics.html#gg7a2dff6fd9ab1ba1736bba05c474dddb778c5a709f5df13e6461fdc38ab0b846">NX_CF_COMPUTE_CONVEX</a>))
<a name="l00248"></a>00248             <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// If the mesh is convex and we're not allowed to compute the hull,</span>
<a name="l00249"></a>00249                             <span class="comment">// you have to provide it completely (geometry &amp; topology).</span>
<a name="l00250"></a>00250         }
<a name="l00251"></a>00251     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00252"></a>00252     }
<a name="l00253"></a>00253 
<a name="l00255"></a>00255 <span class="preprocessor">#endif</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span><span class="comment">//AGCOPYRIGHTBEGIN</span>
<a name="l00258"></a>00258 <span class="comment"></span><span class="comment">// Copyright (c) 2005 AGEIA Technologies.</span>
<a name="l00259"></a>00259 <span class="comment">// All rights reserved. www.ageia.com</span>
<a name="l00261"></a>00261 <span class="comment"></span><span class="comment">//AGCOPYRIGHTEND</span>
</pre></div>
<hr style="width: 100%; height: 2px;"><a><br>
</a>
Copyright &copy; 2008 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</body>
</html>
