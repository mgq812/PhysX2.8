<html>
<head>
<title>Physics SDK API Reference: NxJointDesc.h Source File</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<LINK HREF="../stylesheet.css" REL="stylesheet" TYPE="text/css">

</head>

<body bgcolor="#FFFFFF">
<img alt="" src="images/PhysXlogo.png" align="middle"> <br>

<center>

<hr>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp;  </center>
<hr>
<!-- Generated by Doxygen 1.4.6-NO -->
<h1>NxJointDesc.h</h1><a href="NxJointDesc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef NX_PHYSICS_NXJOINTDESC</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define NX_PHYSICS_NXJOINTDESC</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">/*----------------------------------------------------------------------------*\</span>
<a name="l00004"></a>00004 <span class="comment">|</span>
<a name="l00005"></a>00005 <span class="comment">|                       Public Interface to Ageia PhysX Technology</span>
<a name="l00006"></a>00006 <span class="comment">|</span>
<a name="l00007"></a>00007 <span class="comment">|                                www.ageia.com</span>
<a name="l00008"></a>00008 <span class="comment">|</span>
<a name="l00009"></a>00009 <span class="comment">\*----------------------------------------------------------------------------*/</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="Nxp_8h.html">Nxp.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="NxJoint_8h.html">NxJoint.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="NxActor_8h.html">NxActor.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="PhysXLoader_8h.html">PhysXLoader.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="NxUtilLib_8h.html">NxUtilLib.h</a>"</span>
<a name="l00019"></a>00019 
<a name="l00035"></a><a class="code" href="classNxJointDesc.html">00035</a> <span class="keyword">class </span><a class="code" href="classNxJointDesc.html">NxJointDesc</a>
<a name="l00036"></a>00036     {
<a name="l00037"></a>00037     <span class="keyword">protected</span>:
<a name="l00038"></a>00038 
<a name="l00042"></a><a class="code" href="classNxJointDesc.html#6969b4bd459f78bed69ea051a63a6006">00042</a>     <a class="code" href="group__physics.html#g24c1494747df412af44c511b81ca5674">NxJointType</a> <a class="code" href="classNxJointDesc.html#6969b4bd459f78bed69ea051a63a6006">type</a>;
<a name="l00043"></a>00043     <span class="keyword">public</span>: 
<a name="l00044"></a>00044 
<a name="l00064"></a><a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">00064</a>     <a class="code" href="classNxActor.html">NxActor</a> * <a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[2];
<a name="l00065"></a>00065 
<a name="l00084"></a><a class="code" href="classNxJointDesc.html#71df01c30edb1549103d539948856012">00084</a>     <a class="code" href="classNxVec3.html">NxVec3</a> <a class="code" href="classNxJointDesc.html#71df01c30edb1549103d539948856012">localNormal</a>[2];
<a name="l00085"></a>00085 
<a name="l00104"></a><a class="code" href="classNxJointDesc.html#b558d3f77846963ed75b714b6e78ec15">00104</a>     <a class="code" href="classNxVec3.html">NxVec3</a> <a class="code" href="classNxJointDesc.html#b558d3f77846963ed75b714b6e78ec15">localAxis</a>[2];
<a name="l00105"></a>00105     
<a name="l00121"></a><a class="code" href="classNxJointDesc.html#bf4a13da8dfba2f5e4199ea32c3688da">00121</a>     <a class="code" href="classNxVec3.html">NxVec3</a> <a class="code" href="classNxJointDesc.html#bf4a13da8dfba2f5e4199ea32c3688da">localAnchor</a>[2];
<a name="l00122"></a>00122 
<a name="l00137"></a><a class="code" href="classNxJointDesc.html#8510145075c2176428dae02770c77c2c">00137</a>     <a class="code" href="group__foundation.html#g6a502840309665cbb1fc655de7cde737">NxReal</a> <a class="code" href="classNxJointDesc.html#8510145075c2176428dae02770c77c2c">maxForce</a>;
<a name="l00138"></a>00138 
<a name="l00153"></a><a class="code" href="classNxJointDesc.html#a39cb457b02632550d3b5ac255cb6d3f">00153</a>     <a class="code" href="group__foundation.html#g6a502840309665cbb1fc655de7cde737">NxReal</a> <a class="code" href="classNxJointDesc.html#a39cb457b02632550d3b5ac255cb6d3f">maxTorque</a>;
<a name="l00154"></a>00154 
<a name="l00176"></a><a class="code" href="classNxJointDesc.html#ce6a568782f7b18d13dfa1cecbc6620e">00176</a>     <a class="code" href="group__foundation.html#g6a502840309665cbb1fc655de7cde737">NxReal</a> <a class="code" href="classNxJointDesc.html#ce6a568782f7b18d13dfa1cecbc6620e">solverExtrapolationFactor</a>;
<a name="l00177"></a>00177 
<a name="l00198"></a><a class="code" href="classNxJointDesc.html#81a8196cfdd64eea23623c261b27a277">00198</a>     NxU32 <a class="code" href="classNxJointDesc.html#81a8196cfdd64eea23623c261b27a277">useAccelerationSpring</a>;
<a name="l00199"></a>00199     
<a name="l00211"></a><a class="code" href="classNxJointDesc.html#a78e33038ef362814e105e172e9958e5">00211</a>     <span class="keywordtype">void</span>* <a class="code" href="classNxJointDesc.html#a78e33038ef362814e105e172e9958e5">userData</a>;
<a name="l00212"></a>00212 
<a name="l00224"></a><a class="code" href="classNxJointDesc.html#bf64d29e2c523ce4904b4139fb5a0d7e">00224</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classNxJointDesc.html#bf64d29e2c523ce4904b4139fb5a0d7e">name</a>;
<a name="l00225"></a>00225 
<a name="l00237"></a><a class="code" href="classNxJointDesc.html#1ec16c2ceba3be2568defc3d5a6c6c58">00237</a>     NxU32 <a class="code" href="classNxJointDesc.html#1ec16c2ceba3be2568defc3d5a6c6c58">jointFlags</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 
<a name="l00240"></a>00240     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">virtual</span>       <a class="code" href="group__physics.html#g0128ce88adac420339f8477b4c712e62">~NxJointDesc</a>();
<a name="l00241"></a>00241     
<a name="l00245"></a>00245     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#g4cdf6134d0b33b3c4aa252f9ffb9dc2f">setToDefault</a>();
<a name="l00246"></a>00246     
<a name="l00252"></a>00252     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="group__physics.html#g3513c3bbb476e217f15ce933d87f647d">isValid</a>() <span class="keyword">const</span>;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00265"></a>00265     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#g5dd1c975148ce09baaafc83ea72ba62c">setGlobalAnchor</a>(<span class="keyword">const</span> <a class="code" href="classNxVec3.html">NxVec3</a> &amp; wsAnchor);
<a name="l00266"></a>00266 
<a name="l00278"></a>00278     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#g3e703173a163bd34a1bd6ce4dd87e686">setGlobalAxis</a>(<span class="keyword">const</span> <a class="code" href="classNxVec3.html">NxVec3</a> &amp; wsAxis);
<a name="l00279"></a>00279 
<a name="l00287"></a><a class="code" href="classNxJointDesc.html#d41de624b71975dfbd0706ba4d8ab4fa">00287</a>     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#g24c1494747df412af44c511b81ca5674">NxJointType</a>   <a class="code" href="classNxJointDesc.html#d41de624b71975dfbd0706ba4d8ab4fa">getType</a>()<span class="keyword">   const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classNxJointDesc.html#6969b4bd459f78bed69ea051a63a6006">type</a>; }
<a name="l00288"></a>00288     <span class="keyword">protected</span>:
<a name="l00294"></a>00294     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#gdc25e23bc43c9fc5ebfa9e4d784adcc6">NxJointDesc</a>(<a class="code" href="group__physics.html#g24c1494747df412af44c511b81ca5674">NxJointType</a> t);   
<a name="l00295"></a>00295     };
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="group__physics.html#gdc25e23bc43c9fc5ebfa9e4d784adcc6">00298</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#gdc25e23bc43c9fc5ebfa9e4d784adcc6">NxJointDesc::NxJointDesc</a>(<a class="code" href="group__physics.html#g24c1494747df412af44c511b81ca5674">NxJointType</a> t) : type(t) <span class="comment">//constructor sets to default</span>
<a name="l00299"></a>00299     {
<a name="l00300"></a>00300     <a class="code" href="group__physics.html#g4cdf6134d0b33b3c4aa252f9ffb9dc2f">setToDefault</a>();
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="group__physics.html#g0128ce88adac420339f8477b4c712e62">00303</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#g0128ce88adac420339f8477b4c712e62">NxJointDesc::~NxJointDesc</a>()
<a name="l00304"></a>00304     {
<a name="l00305"></a>00305     }
<a name="l00306"></a>00306 
<a name="l00307"></a><a class="code" href="group__physics.html#g4cdf6134d0b33b3c4aa252f9ffb9dc2f">00307</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#g4cdf6134d0b33b3c4aa252f9ffb9dc2f">NxJointDesc::setToDefault</a>()
<a name="l00308"></a>00308     {
<a name="l00309"></a>00309     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;2; i++)
<a name="l00310"></a>00310         {
<a name="l00311"></a>00311         <a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[i] = 0;
<a name="l00312"></a>00312         <a class="code" href="classNxJointDesc.html#b558d3f77846963ed75b714b6e78ec15">localAxis</a>[i].<a class="code" href="group__foundation.html#gdb1aeed688a311a5760f05e88d9b448e">set</a>(0,0,1);
<a name="l00313"></a>00313         <a class="code" href="classNxJointDesc.html#71df01c30edb1549103d539948856012">localNormal</a>[i].<a class="code" href="group__foundation.html#gdb1aeed688a311a5760f05e88d9b448e">set</a>(1,0,0);
<a name="l00314"></a>00314         <a class="code" href="classNxJointDesc.html#bf4a13da8dfba2f5e4199ea32c3688da">localAnchor</a>[i].<a class="code" href="group__foundation.html#g4b84d772be560be8ec7fb846acef9a08">zero</a>();
<a name="l00315"></a>00315         }
<a name="l00316"></a>00316 
<a name="l00317"></a>00317     maxForce    = <a class="code" href="group__foundation.html#gd8839617001187c60c0013b65abc6673">NX_MAX_REAL</a>;
<a name="l00318"></a>00318     maxTorque   = <a class="code" href="group__foundation.html#gd8839617001187c60c0013b65abc6673">NX_MAX_REAL</a>;
<a name="l00319"></a>00319     solverExtrapolationFactor = 1.0f;
<a name="l00320"></a>00320     useAccelerationSpring = 0;
<a name="l00321"></a>00321     userData    = NULL;
<a name="l00322"></a>00322     name        = NULL;
<a name="l00323"></a>00323     jointFlags  = <a class="code" href="group__physics.html#gg4e23e790aa3befdddd0d86cb8a741ce082d2c2625a1292829fa81fe46ab95280">NX_JF_VISUALIZATION</a>;
<a name="l00324"></a>00324     }
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="group__physics.html#g3513c3bbb476e217f15ce933d87f647d">00326</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__physics.html#g3513c3bbb476e217f15ce933d87f647d">NxJointDesc::isValid</a>()<span class="keyword"> const</span>
<a name="l00327"></a>00327 <span class="keyword">    </span>{
<a name="l00328"></a>00328     <span class="keywordflow">if</span> (<a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[0] == <a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[1])
<a name="l00329"></a>00329         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00330"></a>00330     <span class="keywordflow">if</span> (!(<a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[0] || <a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[1]))
<a name="l00331"></a>00331         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00332"></a>00332     <span class="comment">//non-null pointers must be dynamic:</span>
<a name="l00333"></a>00333     <span class="keywordflow">if</span> (<a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[0] &amp;&amp; ! <a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[0]-&gt;isDynamic())
<a name="l00334"></a>00334         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00335"></a>00335     <span class="keywordflow">if</span> (<a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[1] &amp;&amp; ! <a class="code" href="classNxJointDesc.html#c4f5f6f9bbe009d9e07b5ee99ef73ef0">actor</a>[1]-&gt;isDynamic())
<a name="l00336"></a>00336         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="keywordflow">if</span> (<a class="code" href="classNxJointDesc.html#6969b4bd459f78bed69ea051a63a6006">type</a> &gt;= <a class="code" href="group__physics.html#gg24c1494747df412af44c511b81ca56748ea4043248f8c7527df985dd248ee31a">NX_JOINT_COUNT</a>)
<a name="l00339"></a>00339         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00340"></a>00340     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;2; i++)
<a name="l00341"></a>00341         {
<a name="l00342"></a>00342         <span class="keywordflow">if</span> (fabsf(<a class="code" href="classNxJointDesc.html#b558d3f77846963ed75b714b6e78ec15">localAxis</a>[i].magnitudeSquared() - 1.0f) &gt; 0.1f) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00343"></a>00343         <span class="keywordflow">if</span> (fabsf(<a class="code" href="classNxJointDesc.html#71df01c30edb1549103d539948856012">localNormal</a>[i].magnitudeSquared() - 1.0f) &gt; 0.1f) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00344"></a>00344         <span class="comment">//check orthogonal pairs</span>
<a name="l00345"></a>00345         <span class="keywordflow">if</span> (fabsf(<a class="code" href="classNxJointDesc.html#b558d3f77846963ed75b714b6e78ec15">localAxis</a>[i].dot(<a class="code" href="classNxJointDesc.html#71df01c30edb1549103d539948856012">localNormal</a>[i])) &gt; 0.1f) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00346"></a>00346         }
<a name="l00347"></a>00347     <span class="keywordflow">if</span> (maxForce &lt;= 0)
<a name="l00348"></a>00348         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00349"></a>00349     <span class="keywordflow">if</span> (maxTorque &lt;= 0)
<a name="l00350"></a>00350         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00351"></a>00351     <span class="keywordflow">if</span> ((solverExtrapolationFactor &lt; 0.5f) || (solverExtrapolationFactor &gt; 2.0f))
<a name="l00352"></a>00352         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00353"></a>00353     <span class="keywordflow">if</span> (useAccelerationSpring &gt; 1)
<a name="l00354"></a>00354         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358 
<a name="l00359"></a><a class="code" href="group__physics.html#g5dd1c975148ce09baaafc83ea72ba62c">00359</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#g5dd1c975148ce09baaafc83ea72ba62c">NxJointDesc::setGlobalAnchor</a>(<span class="keyword">const</span> <a class="code" href="classNxVec3.html">NxVec3</a> &amp; wsAnchor)
<a name="l00360"></a>00360     {
<a name="l00361"></a>00361     <a class="code" href="group__PhysXLoader.html#g64dd521249204b0108c792809029974b">NxGetUtilLib</a>()-&gt;<a class="code" href="classNxUtilLib.html#48872ec4e8f34f28f84bb6c7e12756f8">NxJointDesc_SetGlobalAnchor</a>(*<span class="keyword">this</span>, wsAnchor);
<a name="l00362"></a>00362     }
<a name="l00363"></a>00363 
<a name="l00364"></a><a class="code" href="group__physics.html#g3e703173a163bd34a1bd6ce4dd87e686">00364</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#g3e703173a163bd34a1bd6ce4dd87e686">NxJointDesc::setGlobalAxis</a>(<span class="keyword">const</span> <a class="code" href="classNxVec3.html">NxVec3</a> &amp; wsAxis)
<a name="l00365"></a>00365     {
<a name="l00366"></a>00366     <a class="code" href="group__PhysXLoader.html#g64dd521249204b0108c792809029974b">NxGetUtilLib</a>()-&gt;<a class="code" href="classNxUtilLib.html#2cfa8009ff43ac021f272a775dda974d">NxJointDesc_SetGlobalAxis</a>(*<span class="keyword">this</span>, wsAxis);
<a name="l00367"></a>00367     }
<a name="l00368"></a>00368 
<a name="l00370"></a>00370 <span class="preprocessor">#endif</span>
<a name="l00371"></a>00371 <span class="preprocessor"></span><span class="comment">//AGCOPYRIGHTBEGIN</span>
<a name="l00373"></a>00373 <span class="comment"></span><span class="comment">// Copyright (c) 2005 AGEIA Technologies.</span>
<a name="l00374"></a>00374 <span class="comment">// All rights reserved. www.ageia.com</span>
<a name="l00376"></a>00376 <span class="comment"></span><span class="comment">//AGCOPYRIGHTEND</span>
</pre></div>
<hr style="width: 100%; height: 2px;"><a><br>
</a>
Copyright &copy; 2008 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</body>
</html>
