<html>
<head>
<title>Physics SDK API Reference: NxShapeDesc.h Source File</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<LINK HREF="../stylesheet.css" REL="stylesheet" TYPE="text/css">

</head>

<body bgcolor="#FFFFFF">
<img alt="" src="images/PhysXlogo.png" align="middle"> <br>

<center>

<hr>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp;  </center>
<hr>
<!-- Generated by Doxygen 1.4.6-NO -->
<h1>NxShapeDesc.h</h1><a href="NxShapeDesc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef NX_COLLISION_NXSHAPEDESC</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define NX_COLLISION_NXSHAPEDESC</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">/*----------------------------------------------------------------------------*\</span>
<a name="l00004"></a>00004 <span class="comment">|</span>
<a name="l00005"></a>00005 <span class="comment">|                       Public Interface to Ageia PhysX Technology</span>
<a name="l00006"></a>00006 <span class="comment">|</span>
<a name="l00007"></a>00007 <span class="comment">|                                www.ageia.com</span>
<a name="l00008"></a>00008 <span class="comment">|</span>
<a name="l00009"></a>00009 <span class="comment">\*----------------------------------------------------------------------------*/</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="NxShape_8h.html">NxShape.h</a>"</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00020"></a><a class="code" href="group__physics.html#g1b6fb574d94fdc99ed82a18b707b367c">00020</a> <span class="keyword">enum</span> <a class="code" href="group__physics.html#g1b6fb574d94fdc99ed82a18b707b367c">NxShapeCompartmentType</a>
<a name="l00021"></a>00021     {
<a name="l00022"></a>00022     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367c2835c038e051ce88658d8d14c447a321">NX_COMPARTMENT_SW_RIGIDBODY</a>     = (1&lt;&lt;0),   
<a name="l00023"></a>00023     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367ca4da11c6516f01b3899e7566859872f4">NX_COMPARTMENT_HW_RIGIDBODY</a>     = (1&lt;&lt;1),   
<a name="l00024"></a>00024     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367ca5d567b4c8adf8cbdf55ae682c32f947">NX_COMPARTMENT_SW_FLUID</a>         = (1&lt;&lt;2),   
<a name="l00025"></a>00025     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367c11fbd8ca09111dcfa60bf5d4a70f52e6">NX_COMPARTMENT_HW_FLUID</a>         = (1&lt;&lt;3),   
<a name="l00026"></a>00026     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367cd026f3c105e0c3fb68290640714f69cc">NX_COMPARTMENT_SW_CLOTH</a>         = (1&lt;&lt;4),   
<a name="l00027"></a>00027     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367c54ab3d5d5d0b774927e035dc9d1c790a">NX_COMPARTMENT_HW_CLOTH</a>         = (1&lt;&lt;5),   
<a name="l00028"></a>00028     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367cd84d7406ed6e5175ecf04044bbb543e8">NX_COMPARTMENT_SW_SOFTBODY</a>      = (1&lt;&lt;6),   
<a name="l00029"></a>00029     <a class="code" href="group__physics.html#gg1b6fb574d94fdc99ed82a18b707b367ca300a4624af72ebf50da2e7ec67d8ea1">NX_COMPARTMENT_HW_SOFTBODY</a>      = (1&lt;&lt;7),   
<a name="l00030"></a>00030     };
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00043"></a><a class="code" href="classNxShapeDesc.html">00043</a> <span class="keyword">class </span><a class="code" href="classNxShapeDesc.html">NxShapeDesc</a>
<a name="l00044"></a>00044     {
<a name="l00045"></a>00045     <span class="keyword">protected</span>:
<a name="l00046"></a>00046     
<a name="l00058"></a><a class="code" href="classNxShapeDesc.html#1f7dbfd8962d15b5a56cc575c9f1cd6d">00058</a>     <span class="keyword">const</span> <a class="code" href="group__physics.html#g897faf2486d189e87cc28e6fd02e2416">NxShapeType</a>       <a class="code" href="classNxShapeDesc.html#1f7dbfd8962d15b5a56cc575c9f1cd6d">type</a>;
<a name="l00059"></a>00059     <span class="keyword">public</span>:
<a name="l00060"></a>00060 
<a name="l00075"></a><a class="code" href="classNxShapeDesc.html#005f5488d563c1ddd4e75f08a5d19e34">00075</a>     <a class="code" href="classNxMat34.html">NxMat34</a>                 <a class="code" href="classNxShapeDesc.html#005f5488d563c1ddd4e75f08a5d19e34">localPose</a>;
<a name="l00076"></a>00076 
<a name="l00090"></a><a class="code" href="classNxShapeDesc.html#9da5e1a222dcc26449868251a709724c">00090</a>     NxU32                   <a class="code" href="classNxShapeDesc.html#9da5e1a222dcc26449868251a709724c">shapeFlags</a>;
<a name="l00091"></a>00091 
<a name="l00105"></a><a class="code" href="classNxShapeDesc.html#8e576f03f3e1b309bb9b2445eee966ee">00105</a>     <a class="code" href="group__physics.html#gb144febecb4fc60da5d48839c14c2501">NxCollisionGroup</a>        <a class="code" href="classNxShapeDesc.html#8e576f03f3e1b309bb9b2445eee966ee">group</a>;
<a name="l00106"></a>00106 
<a name="l00120"></a><a class="code" href="classNxShapeDesc.html#96c7a582decfe4be46dc0cfbef22522c">00120</a>     <a class="code" href="group__physics.html#g7c86954f381ead77b9fbf58daa9eda52">NxMaterialIndex</a>         <a class="code" href="classNxShapeDesc.html#96c7a582decfe4be46dc0cfbef22522c">materialIndex</a>;
<a name="l00121"></a>00121     
<a name="l00135"></a><a class="code" href="classNxShapeDesc.html#806ca5a8d7b755bb7f2239d1fb55a45c">00135</a>     <a class="code" href="classNxCCDSkeleton.html">NxCCDSkeleton</a>*          <a class="code" href="classNxShapeDesc.html#806ca5a8d7b755bb7f2239d1fb55a45c">ccdSkeleton</a>;
<a name="l00136"></a>00136     
<a name="l00152"></a><a class="code" href="classNxShapeDesc.html#03117425b28a904dc0baff880fca878e">00152</a>     <a class="code" href="group__foundation.html#g6a502840309665cbb1fc655de7cde737">NxReal</a>                  <a class="code" href="classNxShapeDesc.html#03117425b28a904dc0baff880fca878e">density</a>;
<a name="l00153"></a>00153 
<a name="l00167"></a><a class="code" href="classNxShapeDesc.html#29c10f908dc5a65fcce61c955bb7c370">00167</a>     <a class="code" href="group__foundation.html#g6a502840309665cbb1fc655de7cde737">NxReal</a>                  <a class="code" href="classNxShapeDesc.html#29c10f908dc5a65fcce61c955bb7c370">mass</a>;
<a name="l00168"></a>00168     
<a name="l00196"></a><a class="code" href="classNxShapeDesc.html#8e686d60aed86405218ac61d8f96edfd">00196</a>     <a class="code" href="group__foundation.html#g6a502840309665cbb1fc655de7cde737">NxReal</a>                  <a class="code" href="classNxShapeDesc.html#8e686d60aed86405218ac61d8f96edfd">skinWidth</a>;
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 
<a name="l00210"></a><a class="code" href="classNxShapeDesc.html#047f08799738d74b16d078583f52f9c5">00210</a>     <span class="keywordtype">void</span>*                   <a class="code" href="classNxShapeDesc.html#047f08799738d74b16d078583f52f9c5">userData</a>;
<a name="l00211"></a>00211 
<a name="l00223"></a><a class="code" href="classNxShapeDesc.html#988743ce5a73102dc6be60c6ab3d5b31">00223</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*             <a class="code" href="classNxShapeDesc.html#988743ce5a73102dc6be60c6ab3d5b31">name</a>;
<a name="l00224"></a>00224 
<a name="l00236"></a><a class="code" href="classNxShapeDesc.html#8893f7e0935a509a5532e0ae708e5066">00236</a>     <a class="code" href="classNxGroupsMask.html">NxGroupsMask</a>            <a class="code" href="classNxShapeDesc.html#8893f7e0935a509a5532e0ae708e5066">groupsMask</a>;
<a name="l00237"></a>00237 
<a name="l00260"></a><a class="code" href="classNxShapeDesc.html#1e6d4b009c27db6089d5c3a2da697e45">00260</a>     NxU32                   <a class="code" href="classNxShapeDesc.html#1e6d4b009c27db6089d5c3a2da697e45">nonInteractingCompartmentTypes</a>;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">virtual</span>       <a class="code" href="group__physics.html#g748e0dd861a85bf4868692c1d1eabed8">~NxShapeDesc</a>();
<a name="l00263"></a>00263     
<a name="l00267"></a>00267     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">virtual</span>   <span class="keywordtype">void</span> <a class="code" href="group__physics.html#gb7dbab7554a8730a721285fd414b27d4">setToDefault</a>();
<a name="l00268"></a>00268     
<a name="l00274"></a>00274     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">virtual</span>   <span class="keywordtype">bool</span> <a class="code" href="group__physics.html#g005efde2f3fe30caa227d8b72acabbbe">isValid</a>() <span class="keyword">const</span>;
<a name="l00275"></a>00275 
<a name="l00281"></a><a class="code" href="classNxShapeDesc.html#c30aa86ea435d9afc8fedfd125b072f2">00281</a>     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a>           <a class="code" href="group__physics.html#g897faf2486d189e87cc28e6fd02e2416">NxShapeType</a> <a class="code" href="classNxShapeDesc.html#c30aa86ea435d9afc8fedfd125b072f2">getType</a>()<span class="keyword">   const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classNxShapeDesc.html#1f7dbfd8962d15b5a56cc575c9f1cd6d">type</a>; }
<a name="l00282"></a>00282 
<a name="l00283"></a>00283     <span class="keyword">protected</span>:
<a name="l00289"></a>00289     <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a>               <a class="code" href="group__physics.html#g76e9a48ca55efb3ead733db1c44eac24">NxShapeDesc</a>(<a class="code" href="group__physics.html#g897faf2486d189e87cc28e6fd02e2416">NxShapeType</a> shapeType);
<a name="l00290"></a>00290 
<a name="l00291"></a><a class="code" href="classNxShapeDesc.html#e70cfaab525ba6e2ec54bc7b3f14d896">00291</a>     <a class="code" href="classNxShapeDesc.html">NxShapeDesc</a>&amp; <a class="code" href="classNxShapeDesc.html#e70cfaab525ba6e2ec54bc7b3f14d896">operator=</a>( <span class="keyword">const</span> <a class="code" href="classNxShapeDesc.html">NxShapeDesc</a>&amp; ) {};
<a name="l00292"></a>00292     };
<a name="l00293"></a>00293 
<a name="l00294"></a><a class="code" href="group__physics.html#g76e9a48ca55efb3ead733db1c44eac24">00294</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#g76e9a48ca55efb3ead733db1c44eac24">NxShapeDesc::NxShapeDesc</a>(<a class="code" href="group__physics.html#g897faf2486d189e87cc28e6fd02e2416">NxShapeType</a> t) : type(t)
<a name="l00295"></a>00295     {
<a name="l00296"></a>00296     <a class="code" href="group__physics.html#gb7dbab7554a8730a721285fd414b27d4">setToDefault</a>();
<a name="l00297"></a>00297     }
<a name="l00298"></a>00298 
<a name="l00299"></a><a class="code" href="group__physics.html#g748e0dd861a85bf4868692c1d1eabed8">00299</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <a class="code" href="group__physics.html#g748e0dd861a85bf4868692c1d1eabed8">NxShapeDesc::~NxShapeDesc</a>()
<a name="l00300"></a>00300     {
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="group__physics.html#gb7dbab7554a8730a721285fd414b27d4">00303</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__physics.html#gb7dbab7554a8730a721285fd414b27d4">NxShapeDesc::setToDefault</a>()
<a name="l00304"></a>00304     {
<a name="l00305"></a>00305     <a class="code" href="classNxShapeDesc.html#005f5488d563c1ddd4e75f08a5d19e34">localPose</a>.<a class="code" href="group__foundation.html#g423ee248625de695733b1936187fd510">id</a>();
<a name="l00306"></a>00306     <a class="code" href="classNxShapeDesc.html#9da5e1a222dcc26449868251a709724c">shapeFlags</a>          = <a class="code" href="group__physics.html#ggbbe8405015d696e3179bdcc04f719f429fc12ac3283096e784453cd17096d520">NX_SF_VISUALIZATION</a> | <a class="code" href="group__physics.html#ggbbe8405015d696e3179bdcc04f719f421353f4ab11d2df8d561afe9df88f2db5">NX_SF_CLOTH_TWOWAY</a> | <a class="code" href="group__physics.html#ggbbe8405015d696e3179bdcc04f719f42393419913c0816a73086be9bf022203f">NX_SF_SOFTBODY_TWOWAY</a>;
<a name="l00307"></a>00307     <a class="code" href="classNxShapeDesc.html#8e576f03f3e1b309bb9b2445eee966ee">group</a>               = 0;
<a name="l00308"></a>00308     <a class="code" href="classNxShapeDesc.html#96c7a582decfe4be46dc0cfbef22522c">materialIndex</a>       = 0;
<a name="l00309"></a>00309     <a class="code" href="classNxShapeDesc.html#806ca5a8d7b755bb7f2239d1fb55a45c">ccdSkeleton</a>     = NULL;
<a name="l00310"></a>00310     <a class="code" href="classNxShapeDesc.html#8e686d60aed86405218ac61d8f96edfd">skinWidth</a>           = -1.0f;
<a name="l00311"></a>00311     <a class="code" href="classNxShapeDesc.html#03117425b28a904dc0baff880fca878e">density</a>             =  1.0f;
<a name="l00312"></a>00312     <a class="code" href="classNxShapeDesc.html#29c10f908dc5a65fcce61c955bb7c370">mass</a>                = -1.0f;  <span class="comment">// by default we let the mass be determined by its density.  </span>
<a name="l00313"></a>00313     <a class="code" href="classNxShapeDesc.html#047f08799738d74b16d078583f52f9c5">userData</a>            = NULL;
<a name="l00314"></a>00314     <a class="code" href="classNxShapeDesc.html#988743ce5a73102dc6be60c6ab3d5b31">name</a>                = NULL;
<a name="l00315"></a>00315     <a class="code" href="classNxShapeDesc.html#8893f7e0935a509a5532e0ae708e5066">groupsMask</a>.<a class="code" href="classNxGroupsMask.html#d77efdeffee749591634ec74ec7ce3b8">bits0</a>    = 0;
<a name="l00316"></a>00316     <a class="code" href="classNxShapeDesc.html#8893f7e0935a509a5532e0ae708e5066">groupsMask</a>.<a class="code" href="classNxGroupsMask.html#4cbad69c0390c3b17dea24fcd8cdfa0d">bits1</a>    = 0;
<a name="l00317"></a>00317     <a class="code" href="classNxShapeDesc.html#8893f7e0935a509a5532e0ae708e5066">groupsMask</a>.<a class="code" href="classNxGroupsMask.html#d4bb28be64ddb0f97b0399ca17017cd7">bits2</a>    = 0;
<a name="l00318"></a>00318     <a class="code" href="classNxShapeDesc.html#8893f7e0935a509a5532e0ae708e5066">groupsMask</a>.<a class="code" href="classNxGroupsMask.html#e4cc40fc1763bd1c67d9015835ca22ca">bits3</a>    = 0;
<a name="l00319"></a>00319     <a class="code" href="classNxShapeDesc.html#1e6d4b009c27db6089d5c3a2da697e45">nonInteractingCompartmentTypes</a> = 0;
<a name="l00320"></a>00320     }
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="group__physics.html#g005efde2f3fe30caa227d8b72acabbbe">00322</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__physics.html#g005efde2f3fe30caa227d8b72acabbbe">NxShapeDesc::isValid</a>()<span class="keyword"> const</span>
<a name="l00323"></a>00323 <span class="keyword">    </span>{
<a name="l00324"></a>00324     <span class="keywordflow">if</span>(!<a class="code" href="classNxShapeDesc.html#005f5488d563c1ddd4e75f08a5d19e34">localPose</a>.<a class="code" href="group__foundation.html#gf32b39f796ed2d5ef18e1057fbb8a506">isFinite</a>())
<a name="l00325"></a>00325         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00326"></a>00326     <span class="keywordflow">if</span>(<a class="code" href="classNxShapeDesc.html#8e576f03f3e1b309bb9b2445eee966ee">group</a>&gt;=32)
<a name="l00327"></a>00327         <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// We only support 32 different groups</span>
<a name="l00328"></a>00328     <span class="comment">// dsullins: I removed this bogus shapeFlags check because it was preventing core dumps from loading</span>
<a name="l00329"></a>00329     <span class="comment">//if(shapeFlags&amp;0xffff0000)</span>
<a name="l00330"></a>00330     <span class="comment">//  return false;   // Only 16-bit flags supported here</span>
<a name="l00331"></a>00331     <span class="keywordflow">if</span>(<a class="code" href="classNxShapeDesc.html#1f7dbfd8962d15b5a56cc575c9f1cd6d">type</a> &gt;= <a class="code" href="group__physics.html#gg897faf2486d189e87cc28e6fd02e241653e247c82345152b627723f7406f5c51">NX_SHAPE_COUNT</a>)
<a name="l00332"></a>00332         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00333"></a>00333     <span class="keywordflow">if</span>(<a class="code" href="classNxShapeDesc.html#96c7a582decfe4be46dc0cfbef22522c">materialIndex</a>==0xffff)
<a name="l00334"></a>00334         <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// 0xffff is reserved for internal usage</span>
<a name="l00335"></a>00335     <span class="keywordflow">if</span> (<a class="code" href="classNxShapeDesc.html#8e686d60aed86405218ac61d8f96edfd">skinWidth</a> != -1 &amp;&amp; <a class="code" href="classNxShapeDesc.html#8e686d60aed86405218ac61d8f96edfd">skinWidth</a> &lt; 0)
<a name="l00336"></a>00336         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00337"></a>00337     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00338"></a>00338     }
<a name="l00339"></a>00339 
<a name="l00341"></a>00341 <span class="preprocessor">#endif</span>
<a name="l00342"></a>00342 <span class="preprocessor"></span><span class="comment">//AGCOPYRIGHTBEGIN</span>
<a name="l00344"></a>00344 <span class="comment"></span><span class="comment">// Copyright (c) 2005 AGEIA Technologies.</span>
<a name="l00345"></a>00345 <span class="comment">// All rights reserved. www.ageia.com</span>
<a name="l00347"></a>00347 <span class="comment"></span><span class="comment">//AGCOPYRIGHTEND</span>
</pre></div>
<hr style="width: 100%; height: 2px;"><a><br>
</a>
Copyright &copy; 2008 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</body>
</html>
