<html>
<head>
<title>Physics SDK API Reference: NxMath.h Source File</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<LINK HREF="../stylesheet.css" REL="stylesheet" TYPE="text/css">

</head>

<body bgcolor="#FFFFFF">
<img alt="" src="images/PhysXlogo.png" align="middle"> <br>

<center>

<hr>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp;  </center>
<hr>
<!-- Generated by Doxygen 1.4.6-NO -->
<h1>NxMath.h</h1><a href="NxMath_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef NX_FOUNDATION_NXMATH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define NX_FOUNDATION_NXMATH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">/*----------------------------------------------------------------------------*\</span>
<a name="l00004"></a>00004 <span class="comment">|</span>
<a name="l00005"></a>00005 <span class="comment">|                       Public Interface to Ageia PhysX Technology</span>
<a name="l00006"></a>00006 <span class="comment">|</span>
<a name="l00007"></a>00007 <span class="comment">|                                www.ageia.com</span>
<a name="l00008"></a>00008 <span class="comment">|</span>
<a name="l00009"></a>00009 <span class="comment">\*----------------------------------------------------------------------------*/</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">//for rand()</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#ifdef _XBOX</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#include &lt;ppcintrinsics.h&gt;</span> <span class="comment">//for fpmin,fpmax, sqrt etc</span>
<a name="l00020"></a>00020 <span class="preprocessor">#endif</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include "<a class="code" href="Nx_8h.html">Nx.h</a>"</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#ifdef log2</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#undef log2</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="comment">//constants</span>
<a name="l00029"></a><a class="code" href="group__foundation.html#g55e64e150d49497a3ca6e3fc5dc06576">00029</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF64 <a class="code" href="group__foundation.html#g55e64e150d49497a3ca6e3fc5dc06576">NxPiF64</a>      = 3.141592653589793;
<a name="l00030"></a><a class="code" href="group__foundation.html#gf3ca2d569411ec24a0aec17a57290071">00030</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF64 <a class="code" href="group__foundation.html#gf3ca2d569411ec24a0aec17a57290071">NxHalfPiF64</a>  = 1.57079632679489661923;
<a name="l00031"></a><a class="code" href="group__foundation.html#ga4212392e0fac75dd2e9f310f9c4de48">00031</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF64 <a class="code" href="group__foundation.html#ga4212392e0fac75dd2e9f310f9c4de48">NxTwoPiF64</a>   = 6.28318530717958647692;
<a name="l00032"></a><a class="code" href="group__foundation.html#ga0fa12a013bd644843e2b2cd2ba8f7cd">00032</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF64 <a class="code" href="group__foundation.html#ga0fa12a013bd644843e2b2cd2ba8f7cd">NxInvPiF64</a>   = 0.31830988618379067154;
<a name="l00033"></a>00033 <span class="comment">//we can get bad range checks if we use double prec consts to check single prec results.</span>
<a name="l00034"></a><a class="code" href="group__foundation.html#gd7e859b11667e5817cf90debbd81e6ad">00034</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF32 <a class="code" href="group__foundation.html#gd7e859b11667e5817cf90debbd81e6ad">NxPiF32</a>      = 3.141592653589793f;
<a name="l00035"></a><a class="code" href="group__foundation.html#g87369393cb267e3982f0754b6dd9a85c">00035</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF32 <a class="code" href="group__foundation.html#g87369393cb267e3982f0754b6dd9a85c">NxHalfPiF32</a>  = 1.57079632679489661923f;
<a name="l00036"></a><a class="code" href="group__foundation.html#gcfd8e3aa3d3629588ab91828bdc2aa68">00036</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF32 <a class="code" href="group__foundation.html#gcfd8e3aa3d3629588ab91828bdc2aa68">NxTwoPiF32</a>   = 6.28318530717958647692f;
<a name="l00037"></a><a class="code" href="group__foundation.html#g424465db7dce76699e0d101ae763cbb2">00037</a> <span class="keyword">static</span> <span class="keyword">const</span> NxF32 <a class="code" href="group__foundation.html#g424465db7dce76699e0d101ae763cbb2">NxInvPiF32</a>   = 0.31830988618379067154f;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#if defined(min) || defined(max)</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#error Error: min or max is #defined, probably in &lt;windows.h&gt;.  Put #define NOMINMAX before including windows.h to suppress windows global min,max macros.</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00047"></a><a class="code" href="classNxMath.html">00047</a> <span class="keyword">class </span><a class="code" href="classNxMath.html">NxMath</a>
<a name="l00048"></a>00048     {
<a name="l00049"></a>00049     <span class="keyword">public</span>:
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="comment">// Type conversion and rounding</span>
<a name="l00055"></a>00055 <span class="comment"></span>        <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g737ee8247af993874ae93f8c8b39084c">equals</a>(NxF32,NxF32,NxF32 eps);
<a name="l00056"></a>00056 
<a name="l00060"></a>00060         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g737ee8247af993874ae93f8c8b39084c">equals</a>(NxF64,NxF64,NxF64 eps);
<a name="l00064"></a>00064         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#gafdfff56327cefa9e19095165742e968">floor</a>(NxF32);
<a name="l00068"></a>00068         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#gafdfff56327cefa9e19095165742e968">floor</a>(NxF64);
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 
<a name="l00074"></a>00074         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#ga8426c326cf05fdb8001677b127fef56">ceil</a>(NxF32);
<a name="l00078"></a>00078         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#ga8426c326cf05fdb8001677b127fef56">ceil</a>(NxF64);
<a name="l00079"></a>00079 
<a name="l00083"></a>00083         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g621bdd6ca653a41fe8b52f99dba1cc31">trunc</a>(NxF32);
<a name="l00087"></a>00087         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g621bdd6ca653a41fe8b52f99dba1cc31">trunc</a>(NxF64);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00093"></a>00093         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">abs</a>(NxF32);
<a name="l00097"></a>00097         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">abs</a>(NxF64);
<a name="l00101"></a>00101         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">abs</a>(NxI32);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 
<a name="l00107"></a>00107         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">sign</a>(NxF32);
<a name="l00111"></a>00111         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">sign</a>(NxF64);
<a name="l00115"></a>00115         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">sign</a>(NxI32);
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00121"></a>00121         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">max</a>(NxF32,NxF32);
<a name="l00125"></a>00125         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">max</a>(NxF64,NxF64);
<a name="l00129"></a>00129         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">max</a>(NxI32,NxI32);
<a name="l00133"></a>00133         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxU32 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">max</a>(NxU32,NxU32);
<a name="l00137"></a>00137         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxU16 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">max</a>(NxU16,NxU16);
<a name="l00138"></a>00138         
<a name="l00139"></a>00139         
<a name="l00143"></a>00143         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">min</a>(NxF32,NxF32);
<a name="l00147"></a>00147         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">min</a>(NxF64,NxF64);
<a name="l00151"></a>00151         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">min</a>(NxI32,NxI32);
<a name="l00155"></a>00155         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxU32 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">min</a>(NxU32,NxU32);
<a name="l00159"></a>00159         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxU16 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">min</a>(NxU16,NxU16);
<a name="l00160"></a>00160         
<a name="l00166"></a>00166         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g1296b4de1dcc6e030903353341e2e794">mod</a>(NxF32 x, NxF32 y);
<a name="l00172"></a>00172         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g1296b4de1dcc6e030903353341e2e794">mod</a>(NxF64 x, NxF64 y);
<a name="l00173"></a>00173 
<a name="l00177"></a>00177         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">clamp</a>(NxF32 v, NxF32 hi, NxF32 low);
<a name="l00181"></a>00181         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">clamp</a>(NxF64 v, NxF64 hi, NxF64 low);
<a name="l00185"></a>00185         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxU32 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">clamp</a>(NxU32 v, NxU32 hi, NxU32 low);
<a name="l00189"></a>00189         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">clamp</a>(NxI32 v, NxI32 hi, NxI32 low);
<a name="l00190"></a>00190 
<a name="l00192"></a>00192 
<a name="l00195"></a>00195         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">sqrt</a>(NxF32);
<a name="l00199"></a>00199         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">sqrt</a>(NxF64);
<a name="l00200"></a>00200         
<a name="l00204"></a>00204         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g2a452e7297bde92467fdf5fabb17d08b">recipSqrt</a>(NxF32);
<a name="l00208"></a>00208         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g2a452e7297bde92467fdf5fabb17d08b">recipSqrt</a>(NxF64);
<a name="l00209"></a>00209         
<a name="l00213"></a>00213         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#geec99ad9d92a0a76b30b1a29d9e3671a">pow</a>(NxF32 x, NxF32 y);
<a name="l00217"></a>00217         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#geec99ad9d92a0a76b30b1a29d9e3671a">pow</a>(NxF64 x, NxF64 y);
<a name="l00218"></a>00218         
<a name="l00219"></a>00219         
<a name="l00223"></a>00223         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#gf6aa9c598c1b58e5c9ff6cf1238665c0">exp</a>(NxF32);
<a name="l00227"></a>00227         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#gf6aa9c598c1b58e5c9ff6cf1238665c0">exp</a>(NxF64);
<a name="l00228"></a>00228         
<a name="l00232"></a>00232         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#ge035b6a2b97ed28b165902ce4bc503ed">logE</a>(NxF32);
<a name="l00236"></a>00236         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#ge035b6a2b97ed28b165902ce4bc503ed">logE</a>(NxF64);
<a name="l00240"></a>00240         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g98d7c005fa700c9f42971e47c3152dfd">log2</a>(NxF32);
<a name="l00244"></a>00244         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g98d7c005fa700c9f42971e47c3152dfd">log2</a>(NxF64);
<a name="l00248"></a>00248         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g3568ab6ed7e58be7a06d4b1b9fe2acc6">log10</a>(NxF32);
<a name="l00252"></a>00252         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g3568ab6ed7e58be7a06d4b1b9fe2acc6">log10</a>(NxF64);
<a name="l00253"></a>00253 
<a name="l00255"></a>00255         
<a name="l00259"></a>00259         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g48ef8726bfea1a9ce50fe84386f362be">degToRad</a>(NxF32);
<a name="l00263"></a>00263         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g48ef8726bfea1a9ce50fe84386f362be">degToRad</a>(NxF64);
<a name="l00264"></a>00264 
<a name="l00268"></a>00268         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#gf83a706d2fa5fd76a37f4dfa5a216f3d">radToDeg</a>(NxF32);
<a name="l00272"></a>00272         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#gf83a706d2fa5fd76a37f4dfa5a216f3d">radToDeg</a>(NxF64);
<a name="l00273"></a>00273 
<a name="l00279"></a>00279         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e">sin</a>(NxF32);
<a name="l00285"></a>00285         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e">sin</a>(NxF64);
<a name="l00286"></a>00286         
<a name="l00292"></a>00292         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c">cos</a>(NxF32);
<a name="l00298"></a>00298         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c">cos</a>(NxF64);
<a name="l00299"></a>00299 
<a name="l00305"></a>00305         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group__foundation.html#gb10abc0f1e5c13857c2637b923799c19">sinCos</a>(NxF32, NxF32 &amp; <a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e">sin</a>, NxF32 &amp; <a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c">cos</a>);
<a name="l00306"></a>00306 
<a name="l00312"></a>00312         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group__foundation.html#gb10abc0f1e5c13857c2637b923799c19">sinCos</a>(NxF64, NxF64 &amp; sin, NxF64 &amp; cos);
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 
<a name="l00320"></a>00320         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#gdf98046d6cc353f61b839fb8010ae435">tan</a>(NxF32);
<a name="l00326"></a>00326         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#gdf98046d6cc353f61b839fb8010ae435">tan</a>(NxF64);
<a name="l00327"></a>00327         
<a name="l00335"></a>00335         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g6bc813f4c093a7b428f08860a646af12">asin</a>(NxF32);
<a name="l00343"></a>00343         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g6bc813f4c093a7b428f08860a646af12">asin</a>(NxF64);
<a name="l00344"></a>00344         
<a name="l00352"></a>00352         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g3f57145ce5f8d2f62140609be808189d">acos</a>(NxF32);
<a name="l00353"></a>00353         
<a name="l00361"></a>00361         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g3f57145ce5f8d2f62140609be808189d">acos</a>(NxF64);
<a name="l00362"></a>00362         
<a name="l00370"></a>00370         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#gf7a9bc37b6612d7b737467751897aab1">atan</a>(NxF32);
<a name="l00378"></a>00378         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#gf7a9bc37b6612d7b737467751897aab1">atan</a>(NxF64);
<a name="l00379"></a>00379 
<a name="l00387"></a>00387         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g0f48c8301caf91d3ffaa960be68cb9b6">atan2</a>(NxF32 x, NxF32 y);
<a name="l00395"></a>00395         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF64 <a class="code" href="group__foundation.html#g0f48c8301caf91d3ffaa960be68cb9b6">atan2</a>(NxF64 x, NxF64 y);
<a name="l00396"></a>00396 
<a name="l00397"></a>00397         <span class="comment">//random numbers</span>
<a name="l00398"></a>00398         
<a name="l00402"></a>00402         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxF32 <a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">rand</a>(NxF32 a,NxF32 b);
<a name="l00403"></a>00403         
<a name="l00407"></a>00407         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxI32 <a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">rand</a>(NxI32 a,NxI32 b);
<a name="l00408"></a>00408 
<a name="l00415"></a>00415         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> NxU32 <a class="code" href="group__foundation.html#g132aed216f5d1cc0fbac276f97d9f11b">hash</a>(<span class="keyword">const</span> NxU32 * array, NxU32 n);
<a name="l00416"></a>00416 
<a name="l00420"></a>00420         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="group__foundation.html#g8cd7178fbd6ac674b435183801a30ff8">hash32</a>(<span class="keywordtype">int</span>);
<a name="l00421"></a>00421 
<a name="l00425"></a>00425         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g09bf94cd504fa79f4af173296e9f98cd">isFinite</a>(NxF32 x);
<a name="l00426"></a>00426         
<a name="l00430"></a>00430         <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g09bf94cd504fa79f4af173296e9f98cd">isFinite</a>(NxF64 x);
<a name="l00431"></a>00431     };
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 <span class="comment">/*</span>
<a name="l00434"></a>00434 <span class="comment">Many of these are just implemented as NX_INLINE calls to the C lib right now,</span>
<a name="l00435"></a>00435 <span class="comment">but later we could replace some of them with some approximations or more</span>
<a name="l00436"></a>00436 <span class="comment">clever stuff.</span>
<a name="l00437"></a>00437 <span class="comment">*/</span>
<a name="l00438"></a><a class="code" href="group__foundation.html#g737ee8247af993874ae93f8c8b39084c">00438</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g737ee8247af993874ae93f8c8b39084c">NxMath::equals</a>(NxF32 a,NxF32 b,NxF32 eps)
<a name="l00439"></a>00439     {
<a name="l00440"></a>00440     <span class="keyword">const</span> NxF32 diff = <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">NxMath::abs</a>(a - b);
<a name="l00441"></a>00441     <span class="keywordflow">return</span> (diff &lt; eps);
<a name="l00442"></a>00442     }
<a name="l00443"></a>00443 
<a name="l00444"></a><a class="code" href="group__foundation.html#g2bc6f746344846f61988fa722957f285">00444</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g737ee8247af993874ae93f8c8b39084c">NxMath::equals</a>(NxF64 a,NxF64 b,NxF64 eps)
<a name="l00445"></a>00445     {
<a name="l00446"></a>00446     <span class="keyword">const</span> NxF64 diff = <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">NxMath::abs</a>(a - b);
<a name="l00447"></a>00447     <span class="keywordflow">return</span> (diff &lt; eps);
<a name="l00448"></a>00448     }
<a name="l00449"></a>00449 
<a name="l00450"></a><a class="code" href="group__foundation.html#gafdfff56327cefa9e19095165742e968">00450</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gafdfff56327cefa9e19095165742e968">NxMath::floor</a>(NxF32 a)
<a name="l00451"></a>00451     {
<a name="l00452"></a>00452     return ::floorf(a);
<a name="l00453"></a>00453     }
<a name="l00454"></a>00454 
<a name="l00455"></a><a class="code" href="group__foundation.html#g9bf5a36d32b183a41fade5f1bcc95532">00455</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gafdfff56327cefa9e19095165742e968">NxMath::floor</a>(NxF64 a)
<a name="l00456"></a>00456     {
<a name="l00457"></a>00457     return ::floor(a);
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 
<a name="l00460"></a><a class="code" href="group__foundation.html#ga8426c326cf05fdb8001677b127fef56">00460</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#ga8426c326cf05fdb8001677b127fef56">NxMath::ceil</a>(NxF32 a)
<a name="l00461"></a>00461     {
<a name="l00462"></a>00462     return ::ceilf(a);
<a name="l00463"></a>00463     }
<a name="l00464"></a>00464 
<a name="l00465"></a><a class="code" href="group__foundation.html#g52f90ca083eb3ac1c915810d690784a4">00465</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#ga8426c326cf05fdb8001677b127fef56">NxMath::ceil</a>(NxF64 a)
<a name="l00466"></a>00466     {
<a name="l00467"></a>00467     return ::ceil(a);
<a name="l00468"></a>00468     }
<a name="l00469"></a>00469 
<a name="l00470"></a><a class="code" href="group__foundation.html#g621bdd6ca653a41fe8b52f99dba1cc31">00470</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g621bdd6ca653a41fe8b52f99dba1cc31">NxMath::trunc</a>(NxF32 a)
<a name="l00471"></a>00471     {
<a name="l00472"></a>00472     <span class="keywordflow">return</span> (NxI32) a;   <span class="comment">// ### PT: this actually depends on FPU settings</span>
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474 
<a name="l00475"></a><a class="code" href="group__foundation.html#g6071d67e5b49126329cde7289ac17959">00475</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g621bdd6ca653a41fe8b52f99dba1cc31">NxMath::trunc</a>(NxF64 a)
<a name="l00476"></a>00476     {
<a name="l00477"></a>00477     <span class="keywordflow">return</span> (NxI32) a;   <span class="comment">// ### PT: this actually depends on FPU settings</span>
<a name="l00478"></a>00478     }
<a name="l00479"></a>00479 
<a name="l00480"></a><a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">00480</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">NxMath::abs</a>(NxF32 a)
<a name="l00481"></a>00481     {
<a name="l00482"></a>00482     return ::fabsf(a);
<a name="l00483"></a>00483     }
<a name="l00484"></a>00484 
<a name="l00485"></a><a class="code" href="group__foundation.html#geb0f77b69594024e89be0bbca0f61d8b">00485</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">NxMath::abs</a>(NxF64 a)
<a name="l00486"></a>00486     {
<a name="l00487"></a>00487     return ::fabs(a);
<a name="l00488"></a>00488     }
<a name="l00489"></a>00489 
<a name="l00490"></a><a class="code" href="group__foundation.html#g92704bd42f396e6ce21b347d85b592fd">00490</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g0701530938854f8ff24f0e099fb175f7">NxMath::abs</a>(NxI32 a)
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492     return ::abs(a);
<a name="l00493"></a>00493     }
<a name="l00494"></a>00494 
<a name="l00495"></a><a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">00495</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">NxMath::sign</a>(NxF32 a)
<a name="l00496"></a>00496     {
<a name="l00497"></a>00497     <span class="keywordflow">return</span> (a &gt;= 0.0f) ? 1.0f : -1.0f;
<a name="l00498"></a>00498     }
<a name="l00499"></a>00499 
<a name="l00500"></a><a class="code" href="group__foundation.html#g471f99677b2a8622fb03b98c20dfb1b9">00500</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">NxMath::sign</a>(NxF64 a)
<a name="l00501"></a>00501     {
<a name="l00502"></a>00502     <span class="keywordflow">return</span> (a &gt;= 0.0) ? 1.0 : -1.0;
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504 
<a name="l00505"></a><a class="code" href="group__foundation.html#g3159222972baa99a67e7ff3997412e53">00505</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#ge5136fe07c488c56bba3b95dc6be6858">NxMath::sign</a>(NxI32 a)
<a name="l00506"></a>00506     {
<a name="l00507"></a>00507     <span class="keywordflow">return</span> (a &gt;= 0) ? 1 : -1;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00510"></a><a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">00510</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">NxMath::max</a>(NxF32 a,NxF32 b)
<a name="l00511"></a>00511     {
<a name="l00512"></a>00512 <span class="preprocessor">#ifdef _XBOX</span>
<a name="l00513"></a>00513 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (NxF32)fpmax(a, b);
<a name="l00514"></a>00514 <span class="preprocessor">#else</span>
<a name="l00515"></a>00515 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (a &lt; b) ? b : a;
<a name="l00516"></a>00516 <span class="preprocessor">#endif</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span>    }
<a name="l00518"></a>00518 
<a name="l00519"></a><a class="code" href="group__foundation.html#g02b216515bcaada77159e240d2494150">00519</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">NxMath::max</a>(NxF64 a,NxF64 b)
<a name="l00520"></a>00520     {
<a name="l00521"></a>00521 <span class="preprocessor">#ifdef _XBOX</span>
<a name="l00522"></a>00522 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (NxF64)fpmax(a, b);
<a name="l00523"></a>00523 <span class="preprocessor">#else</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (a &lt; b) ? b : a;
<a name="l00525"></a>00525 <span class="preprocessor">#endif</span>
<a name="l00526"></a>00526 <span class="preprocessor"></span>    }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="group__foundation.html#g92571c71480b2f619392c4e5f466b8d9">00528</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">NxMath::max</a>(NxI32 a,NxI32 b)
<a name="l00529"></a>00529     {
<a name="l00530"></a>00530     <span class="keywordflow">return</span> (a &lt; b) ? b : a;
<a name="l00531"></a>00531     }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="group__foundation.html#g1418b6cad896cbe8c7c6bbaa76948d48">00533</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxU32 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">NxMath::max</a>(NxU32 a,NxU32 b)
<a name="l00534"></a>00534     {
<a name="l00535"></a>00535     <span class="keywordflow">return</span> (a &lt; b) ? b : a;
<a name="l00536"></a>00536     }
<a name="l00537"></a>00537 
<a name="l00538"></a><a class="code" href="group__foundation.html#gdfa8504f4deb387c05d29df707ead5b1">00538</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxU16 <a class="code" href="group__foundation.html#g4c29f33e824cda3ef5d197701ed3bc70">NxMath::max</a>(NxU16 a,NxU16 b)
<a name="l00539"></a>00539     {
<a name="l00540"></a>00540     <span class="keywordflow">return</span> (a &lt; b) ? b : a;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542 
<a name="l00543"></a><a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">00543</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">NxMath::min</a>(NxF32 a,NxF32 b)
<a name="l00544"></a>00544     {
<a name="l00545"></a>00545 <span class="preprocessor">#ifdef _XBOX</span>
<a name="l00546"></a>00546 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (NxF32)fpmin(a, b);
<a name="l00547"></a>00547 <span class="preprocessor">#else</span>
<a name="l00548"></a>00548 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (a &lt; b) ? a : b;
<a name="l00549"></a>00549 <span class="preprocessor">#endif</span>
<a name="l00550"></a>00550 <span class="preprocessor"></span>    }
<a name="l00551"></a>00551 
<a name="l00552"></a><a class="code" href="group__foundation.html#gbcdbff15667d969466fb5276dbed7a0a">00552</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">NxMath::min</a>(NxF64 a,NxF64 b)
<a name="l00553"></a>00553     {
<a name="l00554"></a>00554 <span class="preprocessor">#ifdef _XBOX</span>
<a name="l00555"></a>00555 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (NxF64)fpmin(a, b);
<a name="l00556"></a>00556 <span class="preprocessor">#else</span>
<a name="l00557"></a>00557 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (a &lt; b) ? a : b;
<a name="l00558"></a>00558 <span class="preprocessor">#endif</span>
<a name="l00559"></a>00559 <span class="preprocessor"></span>    }
<a name="l00560"></a>00560 
<a name="l00561"></a><a class="code" href="group__foundation.html#g0e6c781f4cd8b9be5a540164cabd2079">00561</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">NxMath::min</a>(NxI32 a,NxI32 b)
<a name="l00562"></a>00562     {
<a name="l00563"></a>00563     <span class="keywordflow">return</span> (a &lt; b) ? a : b;
<a name="l00564"></a>00564     }
<a name="l00565"></a>00565 
<a name="l00566"></a><a class="code" href="group__foundation.html#g2744ba6aced8a46e54f74271ed264768">00566</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxU32 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">NxMath::min</a>(NxU32 a,NxU32 b)
<a name="l00567"></a>00567     {
<a name="l00568"></a>00568     <span class="keywordflow">return</span> (a &lt; b) ? a : b;
<a name="l00569"></a>00569     }
<a name="l00570"></a>00570 
<a name="l00571"></a><a class="code" href="group__foundation.html#gc753739223b861085393cff3ff3fd263">00571</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxU16 <a class="code" href="group__foundation.html#g62326ca5b9a1a157ab9746d6c060315b">NxMath::min</a>(NxU16 a,NxU16 b)
<a name="l00572"></a>00572     {
<a name="l00573"></a>00573     <span class="keywordflow">return</span> (a &lt; b) ? a : b;
<a name="l00574"></a>00574     }
<a name="l00575"></a>00575 
<a name="l00576"></a><a class="code" href="group__foundation.html#g1296b4de1dcc6e030903353341e2e794">00576</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g1296b4de1dcc6e030903353341e2e794">NxMath::mod</a>(NxF32 x, NxF32 y)
<a name="l00577"></a>00577     {
<a name="l00578"></a>00578     <span class="keywordflow">return</span> (NxF32)::fmod(x,y);
<a name="l00579"></a>00579     }
<a name="l00580"></a>00580 
<a name="l00581"></a><a class="code" href="group__foundation.html#ga80c59a02ff08319b219bcbb5b1787ba">00581</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g1296b4de1dcc6e030903353341e2e794">NxMath::mod</a>(NxF64 x, NxF64 y)
<a name="l00582"></a>00582     {
<a name="l00583"></a>00583     return ::fmod(x,y);
<a name="l00584"></a>00584     }
<a name="l00585"></a>00585 
<a name="l00586"></a><a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">00586</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">NxMath::clamp</a>(NxF32 v, NxF32 hi, NxF32 low)
<a name="l00587"></a>00587     {
<a name="l00588"></a>00588     <span class="keywordflow">if</span> (v &gt; hi) 
<a name="l00589"></a>00589         <span class="keywordflow">return</span> hi;
<a name="l00590"></a>00590     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; low) 
<a name="l00591"></a>00591         <span class="keywordflow">return</span> low;
<a name="l00592"></a>00592     <span class="keywordflow">else</span>
<a name="l00593"></a>00593         <span class="keywordflow">return</span> v;
<a name="l00594"></a>00594     }
<a name="l00595"></a>00595 
<a name="l00596"></a><a class="code" href="group__foundation.html#g65593192c69d39bdded70cd3996daf15">00596</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">NxMath::clamp</a>(NxF64 v, NxF64 hi, NxF64 low)
<a name="l00597"></a>00597     {
<a name="l00598"></a>00598     <span class="keywordflow">if</span> (v &gt; hi) 
<a name="l00599"></a>00599         <span class="keywordflow">return</span> hi;
<a name="l00600"></a>00600     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; low) 
<a name="l00601"></a>00601         <span class="keywordflow">return</span> low;
<a name="l00602"></a>00602     <span class="keywordflow">else</span>
<a name="l00603"></a>00603         <span class="keywordflow">return</span> v;
<a name="l00604"></a>00604     }
<a name="l00605"></a>00605 
<a name="l00606"></a><a class="code" href="group__foundation.html#ga7a11d7156fd050a3088ff71c65394dc">00606</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxU32 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">NxMath::clamp</a>(NxU32 v, NxU32 hi, NxU32 low)
<a name="l00607"></a>00607     {
<a name="l00608"></a>00608     <span class="keywordflow">if</span> (v &gt; hi) 
<a name="l00609"></a>00609         <span class="keywordflow">return</span> hi;
<a name="l00610"></a>00610     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; low) 
<a name="l00611"></a>00611         <span class="keywordflow">return</span> low;
<a name="l00612"></a>00612     <span class="keywordflow">else</span>
<a name="l00613"></a>00613         <span class="keywordflow">return</span> v;
<a name="l00614"></a>00614     }
<a name="l00615"></a>00615 
<a name="l00616"></a><a class="code" href="group__foundation.html#g314f656b1ef17e6a5722af83b4cb3be5">00616</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g1c20bc6c91790d5115da6c971ea916ae">NxMath::clamp</a>(NxI32 v, NxI32 hi, NxI32 low)
<a name="l00617"></a>00617     {
<a name="l00618"></a>00618     <span class="keywordflow">if</span> (v &gt; hi) 
<a name="l00619"></a>00619         <span class="keywordflow">return</span> hi;
<a name="l00620"></a>00620     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; low) 
<a name="l00621"></a>00621         <span class="keywordflow">return</span> low;
<a name="l00622"></a>00622     <span class="keywordflow">else</span>
<a name="l00623"></a>00623         <span class="keywordflow">return</span> v;
<a name="l00624"></a>00624     }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626 <span class="preprocessor">#ifdef _XBOX</span>
<a name="l00627"></a>00627 <span class="preprocessor"></span><a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">NxMath::sqrt</a>(NxF32 a)
<a name="l00628"></a>00628     {
<a name="l00629"></a>00629     <span class="keywordflow">return</span> __fsqrts(a);
<a name="l00630"></a>00630     }
<a name="l00631"></a>00631 
<a name="l00632"></a>00632 <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">NxMath::sqrt</a>(NxF64 a)
<a name="l00633"></a>00633     {
<a name="l00634"></a>00634     <span class="keywordflow">return</span> __fsqrt(a);
<a name="l00635"></a>00635     }
<a name="l00636"></a>00636 <span class="preprocessor">#else</span>
<a name="l00637"></a><a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">00637</a> <span class="preprocessor"></span><a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">NxMath::sqrt</a>(NxF32 a)
<a name="l00638"></a>00638     {
<a name="l00639"></a>00639     return ::sqrtf(a);
<a name="l00640"></a>00640     }
<a name="l00641"></a>00641 
<a name="l00642"></a><a class="code" href="group__foundation.html#g3e3e5c068a0d17f36e027bfb10249ea0">00642</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">NxMath::sqrt</a>(NxF64 a)
<a name="l00643"></a>00643     {
<a name="l00644"></a>00644     return ::sqrt(a);
<a name="l00645"></a>00645     }
<a name="l00646"></a>00646 <span class="preprocessor">#endif</span>
<a name="l00647"></a>00647 <span class="preprocessor"></span>
<a name="l00648"></a><a class="code" href="group__foundation.html#g2a452e7297bde92467fdf5fabb17d08b">00648</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g2a452e7297bde92467fdf5fabb17d08b">NxMath::recipSqrt</a>(NxF32 a)
<a name="l00649"></a>00649     {
<a name="l00650"></a>00650     <span class="keywordflow">return</span> 1.0f/::sqrtf(a);
<a name="l00651"></a>00651     }
<a name="l00652"></a>00652 
<a name="l00653"></a><a class="code" href="group__foundation.html#g2077170302818f3dd231b7e7d5b57c71">00653</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g2a452e7297bde92467fdf5fabb17d08b">NxMath::recipSqrt</a>(NxF64 a)
<a name="l00654"></a>00654     {
<a name="l00655"></a>00655     <span class="keywordflow">return</span> 1.0/<a class="code" href="group__foundation.html#gf7b5097774c7743cc68f248b4e455d01">::sqrt</a>(a);
<a name="l00656"></a>00656     }
<a name="l00657"></a>00657 
<a name="l00658"></a>00658 
<a name="l00659"></a><a class="code" href="group__foundation.html#geec99ad9d92a0a76b30b1a29d9e3671a">00659</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#geec99ad9d92a0a76b30b1a29d9e3671a">NxMath::pow</a>(NxF32 x, NxF32 y)
<a name="l00660"></a>00660     {
<a name="l00661"></a>00661     return ::powf(x,y);
<a name="l00662"></a>00662     }
<a name="l00663"></a>00663 
<a name="l00664"></a><a class="code" href="group__foundation.html#g340e6ca3ed52a18963f45ab6452a1aec">00664</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#geec99ad9d92a0a76b30b1a29d9e3671a">NxMath::pow</a>(NxF64 x, NxF64 y)
<a name="l00665"></a>00665     {
<a name="l00666"></a>00666     return ::pow(x,y);
<a name="l00667"></a>00667     }
<a name="l00668"></a>00668 
<a name="l00669"></a><a class="code" href="group__foundation.html#gf6aa9c598c1b58e5c9ff6cf1238665c0">00669</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gf6aa9c598c1b58e5c9ff6cf1238665c0">NxMath::exp</a>(NxF32 a)
<a name="l00670"></a>00670     {
<a name="l00671"></a>00671     return ::expf(a);
<a name="l00672"></a>00672     }
<a name="l00673"></a>00673 
<a name="l00674"></a><a class="code" href="group__foundation.html#g0bec83e58ce178c10b6c7c657f21a607">00674</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gf6aa9c598c1b58e5c9ff6cf1238665c0">NxMath::exp</a>(NxF64 a)
<a name="l00675"></a>00675     {
<a name="l00676"></a>00676     return ::exp(a);
<a name="l00677"></a>00677     }
<a name="l00678"></a>00678 
<a name="l00679"></a><a class="code" href="group__foundation.html#ge035b6a2b97ed28b165902ce4bc503ed">00679</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#ge035b6a2b97ed28b165902ce4bc503ed">NxMath::logE</a>(NxF32 a)
<a name="l00680"></a>00680     {
<a name="l00681"></a>00681     return ::logf(a);
<a name="l00682"></a>00682     }
<a name="l00683"></a>00683 
<a name="l00684"></a><a class="code" href="group__foundation.html#gf38943cf6aec4d10bd966ef350189b3f">00684</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#ge035b6a2b97ed28b165902ce4bc503ed">NxMath::logE</a>(NxF64 a)
<a name="l00685"></a>00685     {
<a name="l00686"></a>00686     return ::log(a);
<a name="l00687"></a>00687     }
<a name="l00688"></a>00688 
<a name="l00689"></a><a class="code" href="group__foundation.html#g98d7c005fa700c9f42971e47c3152dfd">00689</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g98d7c005fa700c9f42971e47c3152dfd">NxMath::log2</a>(NxF32 a)
<a name="l00690"></a>00690     {
<a name="l00691"></a>00691     <span class="keyword">const</span> NxF32 ln2 = (NxF32)0.693147180559945309417;
<a name="l00692"></a>00692     return ::logf(a) / ln2;
<a name="l00693"></a>00693     }
<a name="l00694"></a>00694 
<a name="l00695"></a><a class="code" href="group__foundation.html#gee31ca6ff1e4c45ca2e57b0a3e7abc2d">00695</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g98d7c005fa700c9f42971e47c3152dfd">NxMath::log2</a>(NxF64 a)
<a name="l00696"></a>00696     {
<a name="l00697"></a>00697     <span class="keyword">const</span> NxF64 ln2 = (NxF64)0.693147180559945309417;
<a name="l00698"></a>00698     return ::log(a) / ln2;
<a name="l00699"></a>00699     }
<a name="l00700"></a>00700 
<a name="l00701"></a><a class="code" href="group__foundation.html#g3568ab6ed7e58be7a06d4b1b9fe2acc6">00701</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g3568ab6ed7e58be7a06d4b1b9fe2acc6">NxMath::log10</a>(NxF32 a)
<a name="l00702"></a>00702     {
<a name="l00703"></a>00703     <span class="keywordflow">return</span> (NxF32)<a class="code" href="group__foundation.html#g3568ab6ed7e58be7a06d4b1b9fe2acc6">::log10</a>(a);
<a name="l00704"></a>00704     }
<a name="l00705"></a>00705 
<a name="l00706"></a><a class="code" href="group__foundation.html#ga16debaf982e90d09a60ec4ef37b36ff">00706</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g3568ab6ed7e58be7a06d4b1b9fe2acc6">NxMath::log10</a>(NxF64 a)
<a name="l00707"></a>00707     {
<a name="l00708"></a>00708     return ::log10(a);
<a name="l00709"></a>00709     }
<a name="l00710"></a>00710 
<a name="l00711"></a><a class="code" href="group__foundation.html#g48ef8726bfea1a9ce50fe84386f362be">00711</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g48ef8726bfea1a9ce50fe84386f362be">NxMath::degToRad</a>(NxF32 a)
<a name="l00712"></a>00712     {
<a name="l00713"></a>00713     <span class="keywordflow">return</span> (NxF32)0.01745329251994329547 * a;
<a name="l00714"></a>00714     }
<a name="l00715"></a>00715 
<a name="l00716"></a><a class="code" href="group__foundation.html#ge293af1cf2fb98198410ba33c96a3399">00716</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g48ef8726bfea1a9ce50fe84386f362be">NxMath::degToRad</a>(NxF64 a)
<a name="l00717"></a>00717     {
<a name="l00718"></a>00718     <span class="keywordflow">return</span> (NxF64)0.01745329251994329547 * a;
<a name="l00719"></a>00719     }
<a name="l00720"></a>00720 
<a name="l00721"></a><a class="code" href="group__foundation.html#gf83a706d2fa5fd76a37f4dfa5a216f3d">00721</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gf83a706d2fa5fd76a37f4dfa5a216f3d">NxMath::radToDeg</a>(NxF32 a)
<a name="l00722"></a>00722     {
<a name="l00723"></a>00723     <span class="keywordflow">return</span> (NxF32)57.29577951308232286465 * a;
<a name="l00724"></a>00724     }
<a name="l00725"></a>00725 
<a name="l00726"></a><a class="code" href="group__foundation.html#g72f12e1c5553a58cdf7e6e446c113018">00726</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gf83a706d2fa5fd76a37f4dfa5a216f3d">NxMath::radToDeg</a>(NxF64 a)
<a name="l00727"></a>00727     {
<a name="l00728"></a>00728     <span class="keywordflow">return</span> (NxF64)57.29577951308232286465 * a;
<a name="l00729"></a>00729     }
<a name="l00730"></a>00730 
<a name="l00731"></a><a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e">00731</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e">NxMath::sin</a>(NxF32 a)
<a name="l00732"></a>00732     {
<a name="l00733"></a>00733     return ::sinf(a);
<a name="l00734"></a>00734     }
<a name="l00735"></a>00735 
<a name="l00736"></a><a class="code" href="group__foundation.html#g46a949800127e6bb50dabdc555f31dbc">00736</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e">NxMath::sin</a>(NxF64 a)
<a name="l00737"></a>00737     {
<a name="l00738"></a>00738     return ::sin(a);
<a name="l00739"></a>00739     }
<a name="l00740"></a>00740 
<a name="l00741"></a><a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c">00741</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c">NxMath::cos</a>(NxF32 a)
<a name="l00742"></a>00742     {
<a name="l00743"></a>00743     return ::cosf(a);
<a name="l00744"></a>00744     }
<a name="l00745"></a>00745 
<a name="l00746"></a><a class="code" href="group__foundation.html#gc17d402020450a1dd6e2202e07dbb510">00746</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c">NxMath::cos</a>(NxF64 a)
<a name="l00747"></a>00747     {
<a name="l00748"></a>00748     return ::cos(a);
<a name="l00749"></a>00749     }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751 <span class="comment">// Calling fsincos instead of fsin+fcos</span>
<a name="l00752"></a><a class="code" href="group__foundation.html#gb10abc0f1e5c13857c2637b923799c19">00752</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__foundation.html#gb10abc0f1e5c13857c2637b923799c19">NxMath::sinCos</a>(NxF32 f, NxF32&amp; s, NxF32&amp; c)
<a name="l00753"></a>00753     {
<a name="l00754"></a>00754 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00755"></a>00755 <span class="preprocessor"></span>        NxF32 localCos, localSin;
<a name="l00756"></a>00756         NxF32 local = f;
<a name="l00757"></a>00757         _asm    fld     local
<a name="l00758"></a>00758         _asm    fsincos
<a name="l00759"></a>00759         _asm    fstp    localCos
<a name="l00760"></a>00760         _asm    fstp    localSin
<a name="l00761"></a>00761         c = localCos;
<a name="l00762"></a>00762         s = localSin;
<a name="l00763"></a>00763 <span class="preprocessor">#else</span>
<a name="l00764"></a>00764 <span class="preprocessor"></span>        c = cosf(f);
<a name="l00765"></a>00765         s = sinf(f);
<a name="l00766"></a>00766 <span class="preprocessor">#endif</span>
<a name="l00767"></a>00767 <span class="preprocessor"></span>    }
<a name="l00768"></a>00768 
<a name="l00769"></a><a class="code" href="group__foundation.html#g076890dda0a332f6e8b40c09b1b4228d">00769</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="group__foundation.html#gb10abc0f1e5c13857c2637b923799c19">NxMath::sinCos</a>(NxF64 a, NxF64 &amp; s, NxF64 &amp; c)
<a name="l00770"></a>00770     {
<a name="l00771"></a>00771     s =<a class="code" href="group__foundation.html#g9556f913ffd0333deca2010317cb8b5e"> ::sin</a>(a);
<a name="l00772"></a>00772     c =<a class="code" href="group__foundation.html#g86c0a453ee03193df69d460f4d4a906c"> ::cos</a>(a);
<a name="l00773"></a>00773     }
<a name="l00774"></a>00774 
<a name="l00775"></a><a class="code" href="group__foundation.html#gdf98046d6cc353f61b839fb8010ae435">00775</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gdf98046d6cc353f61b839fb8010ae435">NxMath::tan</a>(NxF32 a)
<a name="l00776"></a>00776     {
<a name="l00777"></a>00777     return ::tanf(a);
<a name="l00778"></a>00778     }
<a name="l00779"></a>00779 
<a name="l00780"></a><a class="code" href="group__foundation.html#g82c3926e9a1a132aae9b0e272fce8892">00780</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gdf98046d6cc353f61b839fb8010ae435">NxMath::tan</a>(NxF64 a)
<a name="l00781"></a>00781     {
<a name="l00782"></a>00782     return ::tan(a);
<a name="l00783"></a>00783     }
<a name="l00784"></a>00784 
<a name="l00785"></a><a class="code" href="group__foundation.html#g6bc813f4c093a7b428f08860a646af12">00785</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g6bc813f4c093a7b428f08860a646af12">NxMath::asin</a>(NxF32 f)
<a name="l00786"></a>00786     {
<a name="l00787"></a>00787     <span class="comment">// Take care of FPU inaccuracies</span>
<a name="l00788"></a>00788     <span class="keywordflow">if</span>(f&gt;=1.0f) <span class="keywordflow">return</span> (NxF32)<a class="code" href="group__foundation.html#g87369393cb267e3982f0754b6dd9a85c">NxHalfPiF32</a>;
<a name="l00789"></a>00789     <span class="keywordflow">if</span>(f&lt;=-1.0f)<span class="keywordflow">return</span> -(NxF32)<a class="code" href="group__foundation.html#g87369393cb267e3982f0754b6dd9a85c">NxHalfPiF32</a>;
<a name="l00790"></a>00790                 return ::asinf(f);
<a name="l00791"></a>00791     }
<a name="l00792"></a>00792 
<a name="l00793"></a><a class="code" href="group__foundation.html#g9213a49dd47c24a81767eb60f514659b">00793</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g6bc813f4c093a7b428f08860a646af12">NxMath::asin</a>(NxF64 f)
<a name="l00794"></a>00794     {
<a name="l00795"></a>00795     <span class="comment">// Take care of FPU inaccuracies</span>
<a name="l00796"></a>00796     <span class="keywordflow">if</span>(f&gt;=1.0)  <span class="keywordflow">return</span> (NxF32)<a class="code" href="group__foundation.html#gf3ca2d569411ec24a0aec17a57290071">NxHalfPiF64</a>;
<a name="l00797"></a>00797     <span class="keywordflow">if</span>(f&lt;=-1.0) <span class="keywordflow">return</span> -(NxF32)<a class="code" href="group__foundation.html#gf3ca2d569411ec24a0aec17a57290071">NxHalfPiF64</a>;
<a name="l00798"></a>00798                 return ::asin(f);
<a name="l00799"></a>00799     }
<a name="l00800"></a>00800 
<a name="l00801"></a><a class="code" href="group__foundation.html#g3f57145ce5f8d2f62140609be808189d">00801</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g3f57145ce5f8d2f62140609be808189d">NxMath::acos</a>(NxF32 f)
<a name="l00802"></a>00802     {
<a name="l00803"></a>00803     <span class="comment">// Take care of FPU inaccuracies</span>
<a name="l00804"></a>00804     <span class="keywordflow">if</span>(f&gt;=1.0f) <span class="keywordflow">return</span> 0.0f;
<a name="l00805"></a>00805     <span class="keywordflow">if</span>(f&lt;=-1.0f)<span class="keywordflow">return</span> (NxF32)<a class="code" href="group__foundation.html#gd7e859b11667e5817cf90debbd81e6ad">NxPiF32</a>;
<a name="l00806"></a>00806                 return ::acosf(f);
<a name="l00807"></a>00807     }
<a name="l00808"></a>00808 
<a name="l00809"></a><a class="code" href="group__foundation.html#g94d64bc29cc5bca35f0b7cfdb75e0bf8">00809</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g3f57145ce5f8d2f62140609be808189d">NxMath::acos</a>(NxF64 f)
<a name="l00810"></a>00810     {
<a name="l00811"></a>00811     <span class="comment">// Take care of FPU inaccuracies</span>
<a name="l00812"></a>00812     <span class="keywordflow">if</span>(f&gt;=1.0)  <span class="keywordflow">return</span> 0.0;
<a name="l00813"></a>00813     <span class="keywordflow">if</span>(f&lt;=-1.0) <span class="keywordflow">return</span> (NxF64)<a class="code" href="group__foundation.html#g55e64e150d49497a3ca6e3fc5dc06576">NxPiF64</a>;
<a name="l00814"></a>00814                 return ::acos(f);
<a name="l00815"></a>00815     }
<a name="l00816"></a>00816 
<a name="l00817"></a><a class="code" href="group__foundation.html#gf7a9bc37b6612d7b737467751897aab1">00817</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#gf7a9bc37b6612d7b737467751897aab1">NxMath::atan</a>(NxF32 a)
<a name="l00818"></a>00818     {
<a name="l00819"></a>00819     return ::atanf(a);
<a name="l00820"></a>00820     }
<a name="l00821"></a>00821 
<a name="l00822"></a><a class="code" href="group__foundation.html#g6bfdf589704dc7538adc50d2718e65c1">00822</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#gf7a9bc37b6612d7b737467751897aab1">NxMath::atan</a>(NxF64 a)
<a name="l00823"></a>00823     {
<a name="l00824"></a>00824     return ::atan(a);
<a name="l00825"></a>00825     }
<a name="l00826"></a>00826 
<a name="l00827"></a><a class="code" href="group__foundation.html#g0f48c8301caf91d3ffaa960be68cb9b6">00827</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g0f48c8301caf91d3ffaa960be68cb9b6">NxMath::atan2</a>(NxF32 x, NxF32 y)
<a name="l00828"></a>00828     {
<a name="l00829"></a>00829     return ::atan2f(x,y);
<a name="l00830"></a>00830     }
<a name="l00831"></a>00831 
<a name="l00832"></a><a class="code" href="group__foundation.html#g3451d762e7deda81a57ad803a06672a9">00832</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF64 <a class="code" href="group__foundation.html#g0f48c8301caf91d3ffaa960be68cb9b6">NxMath::atan2</a>(NxF64 x, NxF64 y)
<a name="l00833"></a>00833     {
<a name="l00834"></a>00834     return ::atan2(x,y);
<a name="l00835"></a>00835     }
<a name="l00836"></a>00836 
<a name="l00837"></a><a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">00837</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxF32 <a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">NxMath::rand</a>(NxF32 a,NxF32 b)
<a name="l00838"></a>00838     {
<a name="l00839"></a>00839     <span class="keyword">const</span> NxF32 r = (NxF32)::<a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">rand</a>()/((NxF32)RAND_MAX+1);
<a name="l00840"></a>00840     <span class="keywordflow">return</span> r*(b-a) + a;
<a name="l00841"></a>00841     }
<a name="l00842"></a>00842 
<a name="l00843"></a><a class="code" href="group__foundation.html#g1b5a0d596c61c5a759ff0a77cfd6b5eb">00843</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxI32 <a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">NxMath::rand</a>(NxI32 a,NxI32 b)
<a name="l00844"></a>00844     {
<a name="l00845"></a>00845     <span class="keywordflow">return</span> a + (NxI32)(::<a class="code" href="group__foundation.html#g03d665f08c210912c5bc8a89079cc678">rand</a>()%(b-a));
<a name="l00846"></a>00846     }
<a name="l00847"></a>00847 
<a name="l00848"></a>00848 <span class="comment">/*</span>
<a name="l00849"></a>00849 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00850"></a>00850 <span class="comment">lookup2.c, by Bob Jenkins, December 1996, Public Domain.</span>
<a name="l00851"></a>00851 <span class="comment">hash(), hash2(), hash3, and mix() are externally useful functions.</span>
<a name="l00852"></a>00852 <span class="comment">Routines to test the hash are included if SELF_TEST is defined.</span>
<a name="l00853"></a>00853 <span class="comment">You can use this free for any purpose.  It has no warranty.</span>
<a name="l00854"></a>00854 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00855"></a>00855 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00856"></a>00856 <span class="comment">mix -- mix 3 32-bit values reversibly.</span>
<a name="l00857"></a>00857 <span class="comment">For every delta with one or two bit set, and the deltas of all three</span>
<a name="l00858"></a>00858 <span class="comment">  high bits or all three low bits, whether the original value of a,b,c</span>
<a name="l00859"></a>00859 <span class="comment">  is almost all zero or is uniformly distributed,</span>
<a name="l00860"></a>00860 <span class="comment">* If mix() is run forward or backward, at least 32 bits in a,b,c</span>
<a name="l00861"></a>00861 <span class="comment">  have at least 1/4 probability of changing.</span>
<a name="l00862"></a>00862 <span class="comment">* If mix() is run forward, every bit of c will change between 1/3 and</span>
<a name="l00863"></a>00863 <span class="comment">  2/3 of the time.  (Well, 22/100 and 78/100 for some 2-bit deltas.)</span>
<a name="l00864"></a>00864 <span class="comment">mix() was built out of 36 single-cycle latency instructions in a </span>
<a name="l00865"></a>00865 <span class="comment">  structure that could supported 2x parallelism, like so:</span>
<a name="l00866"></a>00866 <span class="comment">      a -= b; </span>
<a name="l00867"></a>00867 <span class="comment">      a -= c; x = (c&gt;&gt;13);</span>
<a name="l00868"></a>00868 <span class="comment">      b -= c; a ^= x;</span>
<a name="l00869"></a>00869 <span class="comment">      b -= a; x = (a&lt;&lt;8);</span>
<a name="l00870"></a>00870 <span class="comment">      c -= a; b ^= x;</span>
<a name="l00871"></a>00871 <span class="comment">      c -= b; x = (b&gt;&gt;13);</span>
<a name="l00872"></a>00872 <span class="comment">      ...</span>
<a name="l00873"></a>00873 <span class="comment">  Unfortunately, superscalar Pentiums and Sparcs can't take advantage </span>
<a name="l00874"></a>00874 <span class="comment">  of that parallelism.  They've also turned some of those single-cycle</span>
<a name="l00875"></a>00875 <span class="comment">  latency instructions into multi-cycle latency instructions.  Still,</span>
<a name="l00876"></a>00876 <span class="comment">  this is the fastest good hash I could find.  There were about 2^^68</span>
<a name="l00877"></a>00877 <span class="comment">  to choose from.  I only looked at a billion or so.</span>
<a name="l00878"></a>00878 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00879"></a>00879 <span class="comment">*/</span>
<a name="l00880"></a><a class="code" href="group__foundation.html#g8aaf537f76f087c4136a80cb2c39d1f5">00880</a> <span class="preprocessor">#define NX_HASH_MIX(a,b,c) \</span>
<a name="l00881"></a>00881 <span class="preprocessor">{ \</span>
<a name="l00882"></a>00882 <span class="preprocessor">  a -= b; a -= c; a ^= (c&gt;&gt;13); \</span>
<a name="l00883"></a>00883 <span class="preprocessor">  b -= c; b -= a; b ^= (a&lt;&lt;8); \</span>
<a name="l00884"></a>00884 <span class="preprocessor">  c -= a; c -= b; c ^= (b&gt;&gt;13); \</span>
<a name="l00885"></a>00885 <span class="preprocessor">  a -= b; a -= c; a ^= (c&gt;&gt;12);  \</span>
<a name="l00886"></a>00886 <span class="preprocessor">  b -= c; b -= a; b ^= (a&lt;&lt;16); \</span>
<a name="l00887"></a>00887 <span class="preprocessor">  c -= a; c -= b; c ^= (b&gt;&gt;5); \</span>
<a name="l00888"></a>00888 <span class="preprocessor">  a -= b; a -= c; a ^= (c&gt;&gt;3);  \</span>
<a name="l00889"></a>00889 <span class="preprocessor">  b -= c; b -= a; b ^= (a&lt;&lt;10); \</span>
<a name="l00890"></a>00890 <span class="preprocessor">  c -= a; c -= b; c ^= (b&gt;&gt;15); \</span>
<a name="l00891"></a>00891 <span class="preprocessor">}</span>
<a name="l00892"></a>00892 <span class="preprocessor"></span>
<a name="l00893"></a>00893 <span class="comment">/*</span>
<a name="l00894"></a>00894 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00895"></a>00895 <span class="comment"> This works on all machines.  hash2() is identical to hash() on </span>
<a name="l00896"></a>00896 <span class="comment"> little-endian machines, except that the length has to be measured</span>
<a name="l00897"></a>00897 <span class="comment"> in ub4s instead of bytes.  It is much faster than hash().  It </span>
<a name="l00898"></a>00898 <span class="comment"> requires</span>
<a name="l00899"></a>00899 <span class="comment"> -- that the key be an array of ub4's, and</span>
<a name="l00900"></a>00900 <span class="comment"> -- that all your machines have the same endianness, and</span>
<a name="l00901"></a>00901 <span class="comment"> -- that the length be the number of ub4's in the key</span>
<a name="l00902"></a>00902 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00903"></a>00903 <span class="comment">*/</span>
<a name="l00904"></a><a class="code" href="group__foundation.html#g132aed216f5d1cc0fbac276f97d9f11b">00904</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> NxU32 <a class="code" href="group__foundation.html#g132aed216f5d1cc0fbac276f97d9f11b">NxMath::hash</a>(<span class="keyword">const</span> NxU32 *k, NxU32 length)
<a name="l00905"></a>00905 <span class="comment">//register ub4 *k;        /* the key */</span>
<a name="l00906"></a>00906 <span class="comment">//register ub4  length;   /* the length of the key, in ub4s */</span>
<a name="l00907"></a>00907     {
<a name="l00908"></a>00908     NxU32 a,b,c,len;
<a name="l00909"></a>00909 
<a name="l00910"></a>00910     <span class="comment">/* Set up the internal state */</span>
<a name="l00911"></a>00911     len = length;
<a name="l00912"></a>00912     a = b = 0x9e3779b9;  <span class="comment">/* the golden ratio; an arbitrary value */</span>
<a name="l00913"></a>00913     c = 0;           <span class="comment">/* the previous hash value */</span>
<a name="l00914"></a>00914 
<a name="l00915"></a>00915     <span class="comment">/*---------------------------------------- handle most of the key */</span>
<a name="l00916"></a>00916     <span class="keywordflow">while</span> (len &gt;= 3)
<a name="l00917"></a>00917     {
<a name="l00918"></a>00918       a += k[0];
<a name="l00919"></a>00919       b += k[1];
<a name="l00920"></a>00920       c += k[2];
<a name="l00921"></a>00921       <a class="code" href="group__foundation.html#g8aaf537f76f087c4136a80cb2c39d1f5">NX_HASH_MIX</a>(a,b,c);
<a name="l00922"></a>00922       k += 3; len -= 3;
<a name="l00923"></a>00923     }
<a name="l00924"></a>00924 
<a name="l00925"></a>00925     <span class="comment">/*-------------------------------------- handle the last 2 ub4's */</span>
<a name="l00926"></a>00926     c += length;
<a name="l00927"></a>00927     <span class="keywordflow">switch</span>(len)              <span class="comment">/* all the case statements fall through */</span>
<a name="l00928"></a>00928     {
<a name="l00929"></a>00929      <span class="comment">/* c is reserved for the length */</span>
<a name="l00930"></a>00930     <span class="keywordflow">case</span> 2 : b+=k[1];
<a name="l00931"></a>00931     <span class="keywordflow">case</span> 1 : a+=k[0];
<a name="l00932"></a>00932      <span class="comment">/* case 0: nothing left to add */</span>
<a name="l00933"></a>00933     }
<a name="l00934"></a>00934     <a class="code" href="group__foundation.html#g8aaf537f76f087c4136a80cb2c39d1f5">NX_HASH_MIX</a>(a,b,c);
<a name="l00935"></a>00935     <span class="comment">/*-------------------------------------------- report the result */</span>
<a name="l00936"></a>00936     <span class="keywordflow">return</span> c;
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938 <span class="preprocessor">#undef NX_HASH_MIX</span>
<a name="l00939"></a>00939 <span class="preprocessor"></span>
<a name="l00940"></a><a class="code" href="group__foundation.html#g8cd7178fbd6ac674b435183801a30ff8">00940</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">int</span> <a class="code" href="group__foundation.html#g8cd7178fbd6ac674b435183801a30ff8">NxMath::hash32</a>(<span class="keywordtype">int</span> key)
<a name="l00941"></a>00941     {
<a name="l00942"></a>00942     key += ~(key &lt;&lt; 15);
<a name="l00943"></a>00943     key ^=  (key &gt;&gt; 10);
<a name="l00944"></a>00944     key +=  (key &lt;&lt; 3);
<a name="l00945"></a>00945     key ^=  (key &gt;&gt; 6);
<a name="l00946"></a>00946     key += ~(key &lt;&lt; 11);
<a name="l00947"></a>00947     key ^=  (key &gt;&gt; 16);
<a name="l00948"></a>00948     <span class="keywordflow">return</span> key;
<a name="l00949"></a>00949     }
<a name="l00950"></a>00950 
<a name="l00951"></a>00951 
<a name="l00952"></a><a class="code" href="group__foundation.html#g09bf94cd504fa79f4af173296e9f98cd">00952</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g09bf94cd504fa79f4af173296e9f98cd">NxMath::isFinite</a>(NxF32 f)
<a name="l00953"></a>00953     {
<a name="l00954"></a>00954 <span class="preprocessor">    #if defined(_MSC_VER)</span>
<a name="l00955"></a>00955 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (0 == ((_FPCLASS_SNAN | _FPCLASS_QNAN | _FPCLASS_NINF | _FPCLASS_PINF) &amp; _fpclass(f) ));
<a name="l00956"></a>00956 <span class="preprocessor">    #elif defined(__CELLOS_LV2__)</span>
<a name="l00957"></a>00957 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (!(isnan(f)||isinf(f)));
<a name="l00958"></a>00958 <span class="preprocessor">    #else</span>
<a name="l00959"></a>00959 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00960"></a>00960 <span class="preprocessor">    #endif</span>
<a name="l00961"></a>00961 <span class="preprocessor"></span>    
<a name="l00962"></a>00962     }
<a name="l00963"></a>00963 
<a name="l00964"></a><a class="code" href="group__foundation.html#gf08fbcad498e20b4e69fbb162b1c12ed">00964</a> <a class="code" href="group__foundation.html#g0a13a49371a760adfdde1b4d7c965abb">NX_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="group__foundation.html#g09bf94cd504fa79f4af173296e9f98cd">NxMath::isFinite</a>(NxF64 f)
<a name="l00965"></a>00965     {
<a name="l00966"></a>00966 <span class="preprocessor">    #if defined(_MSC_VER)</span>
<a name="l00967"></a>00967 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (0 == ((_FPCLASS_SNAN | _FPCLASS_QNAN | _FPCLASS_NINF | _FPCLASS_PINF) &amp; _fpclass(f) ));
<a name="l00968"></a>00968 <span class="preprocessor">    #elif defined(__CELLOS_LV2__)</span>
<a name="l00969"></a>00969 <span class="preprocessor"></span>    <span class="keywordflow">return</span> (!(isnan(f)||isinf(f)));
<a name="l00970"></a>00970 <span class="preprocessor">    #else</span>
<a name="l00971"></a>00971 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00972"></a>00972 <span class="preprocessor">    #endif</span>
<a name="l00973"></a>00973 <span class="preprocessor"></span>    }
<a name="l00974"></a>00974 
<a name="l00976"></a>00976 <span class="preprocessor">#endif</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span><span class="comment">//AGCOPYRIGHTBEGIN</span>
<a name="l00979"></a>00979 <span class="comment"></span><span class="comment">// Copyright (c) 2005 AGEIA Technologies.</span>
<a name="l00980"></a>00980 <span class="comment">// All rights reserved. www.ageia.com</span>
<a name="l00982"></a>00982 <span class="comment"></span><span class="comment">//AGCOPYRIGHTEND</span>
</pre></div>
<hr style="width: 100%; height: 2px;"><a><br>
</a>
Copyright &copy; 2008 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</body>
</html>
